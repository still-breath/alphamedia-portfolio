{"ast":null,"code":"!function (t, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? e(exports) : \"function\" == typeof define && define.amd ? define([\"exports\"], e) : e((t = t || self).St = {});\n}(this, function (t) {\n  \"use strict\";\n\n  class e {\n    constructor(t, e) {\n      this.state = {\n        angle: 0,\n        area: [],\n        position: {\n          x: 0,\n          y: 0\n        },\n        hardAngle: 0,\n        hardDrawingAngle: 0\n      }, this.createdDensity = e, this.nowDrawingDensity = this.createdDensity, this.render = t;\n    }\n    setDensity(t) {\n      this.createdDensity = t, this.nowDrawingDensity = t;\n    }\n    setDrawingDensity(t) {\n      this.nowDrawingDensity = t;\n    }\n    setPosition(t) {\n      this.state.position = t;\n    }\n    setAngle(t) {\n      this.state.angle = t;\n    }\n    setArea(t) {\n      this.state.area = t;\n    }\n    setHardDrawingAngle(t) {\n      this.state.hardDrawingAngle = t;\n    }\n    setHardAngle(t) {\n      this.state.hardAngle = t, this.state.hardDrawingAngle = t;\n    }\n    setOrientation(t) {\n      this.orientation = t;\n    }\n    getDrawingDensity() {\n      return this.nowDrawingDensity;\n    }\n    getDensity() {\n      return this.createdDensity;\n    }\n    getHardAngle() {\n      return this.state.hardAngle;\n    }\n  }\n  class i extends e {\n    constructor(t, e, i) {\n      super(t, i), this.image = null, this.isLoad = !1, this.loadingAngle = 0, this.image = new Image(), this.image.src = e;\n    }\n    draw(t) {\n      const e = this.render.getContext(),\n        i = this.render.convertToGlobal(this.state.position),\n        s = this.render.getRect().pageWidth,\n        n = this.render.getRect().height;\n      e.save(), e.translate(i.x, i.y), e.beginPath();\n      for (let t of this.state.area) null !== t && (t = this.render.convertToGlobal(t), e.lineTo(t.x - i.x, t.y - i.y));\n      e.rotate(this.state.angle), e.clip(), this.isLoad ? e.drawImage(this.image, 0, 0, s, n) : this.drawLoader(e, {\n        x: 0,\n        y: 0\n      }, s, n), e.restore();\n    }\n    simpleDraw(t) {\n      const e = this.render.getRect(),\n        i = this.render.getContext(),\n        s = e.pageWidth,\n        n = e.height,\n        h = 1 === t ? e.left + e.pageWidth : e.left,\n        r = e.top;\n      this.isLoad ? i.drawImage(this.image, h, r, s, n) : this.drawLoader(i, {\n        x: h,\n        y: r\n      }, s, n);\n    }\n    drawLoader(t, e, i, s) {\n      t.beginPath(), t.strokeStyle = \"rgb(200, 200, 200)\", t.fillStyle = \"rgb(255, 255, 255)\", t.lineWidth = 1, t.rect(e.x + 1, e.y + 1, i - 1, s - 1), t.stroke(), t.fill();\n      const n = {\n        x: e.x + i / 2,\n        y: e.y + s / 2\n      };\n      t.beginPath(), t.lineWidth = 10, t.arc(n.x, n.y, 20, this.loadingAngle, 3 * Math.PI / 2 + this.loadingAngle), t.stroke(), t.closePath(), this.loadingAngle += .07, this.loadingAngle >= 2 * Math.PI && (this.loadingAngle = 0);\n    }\n    load() {\n      this.isLoad || (this.image.onload = () => {\n        this.isLoad = !0;\n      });\n    }\n    newTemporaryCopy() {\n      return this;\n    }\n    getTemporaryCopy() {\n      return this;\n    }\n    hideTemporaryCopy() {}\n  }\n  class s {\n    constructor(t, e) {\n      this.pages = [], this.currentPageIndex = 0, this.currentSpreadIndex = 0, this.landscapeSpread = [], this.portraitSpread = [], this.render = e, this.app = t, this.currentPageIndex = 0, this.isShowCover = this.app.getSettings().showCover;\n    }\n    destroy() {\n      this.pages = [];\n    }\n    createSpread() {\n      this.landscapeSpread = [], this.portraitSpread = [];\n      for (let t = 0; t < this.pages.length; t++) this.portraitSpread.push([t]);\n      let t = 0;\n      this.isShowCover && (this.pages[0].setDensity(\"hard\"), this.landscapeSpread.push([t]), t++);\n      for (let e = t; e < this.pages.length; e += 2) e < this.pages.length - 1 ? this.landscapeSpread.push([e, e + 1]) : (this.landscapeSpread.push([e]), this.pages[e].setDensity(\"hard\"));\n    }\n    getSpread() {\n      return \"landscape\" === this.render.getOrientation() ? this.landscapeSpread : this.portraitSpread;\n    }\n    getSpreadIndexByPage(t) {\n      const e = this.getSpread();\n      for (let i = 0; i < e.length; i++) if (t === e[i][0] || t === e[i][1]) return i;\n      return null;\n    }\n    getPageCount() {\n      return this.pages.length;\n    }\n    getPages() {\n      return this.pages;\n    }\n    getPage(t) {\n      if (t >= 0 && t < this.pages.length) return this.pages[t];\n      throw new Error(\"Invalid page number\");\n    }\n    nextBy(t) {\n      const e = this.pages.indexOf(t);\n      return e < this.pages.length - 1 ? this.pages[e + 1] : null;\n    }\n    prevBy(t) {\n      const e = this.pages.indexOf(t);\n      return e > 0 ? this.pages[e - 1] : null;\n    }\n    getFlippingPage(t) {\n      const e = this.currentSpreadIndex;\n      if (\"portrait\" === this.render.getOrientation()) return 0 === t ? this.pages[e].newTemporaryCopy() : this.pages[e - 1];\n      {\n        const i = 0 === t ? this.getSpread()[e + 1] : this.getSpread()[e - 1];\n        return 1 === i.length || 0 === t ? this.pages[i[0]] : this.pages[i[1]];\n      }\n    }\n    getBottomPage(t) {\n      const e = this.currentSpreadIndex;\n      if (\"portrait\" === this.render.getOrientation()) return 0 === t ? this.pages[e + 1] : this.pages[e - 1];\n      {\n        const i = 0 === t ? this.getSpread()[e + 1] : this.getSpread()[e - 1];\n        return 1 === i.length ? this.pages[i[0]] : 0 === t ? this.pages[i[1]] : this.pages[i[0]];\n      }\n    }\n    showNext() {\n      this.currentSpreadIndex < this.getSpread().length && (this.currentSpreadIndex++, this.showSpread());\n    }\n    showPrev() {\n      this.currentSpreadIndex > 0 && (this.currentSpreadIndex--, this.showSpread());\n    }\n    getCurrentPageIndex() {\n      return this.currentPageIndex;\n    }\n    show(t = null) {\n      if (null === t && (t = this.currentPageIndex), t < 0 || t >= this.pages.length) return;\n      const e = this.getSpreadIndexByPage(t);\n      null !== e && (this.currentSpreadIndex = e, this.showSpread());\n    }\n    getCurrentSpreadIndex() {\n      return this.currentSpreadIndex;\n    }\n    setCurrentSpreadIndex(t) {\n      if (!(t >= 0 && t < this.getSpread().length)) throw new Error(\"Invalid page\");\n      this.currentSpreadIndex = t;\n    }\n    showSpread() {\n      const t = this.getSpread()[this.currentSpreadIndex];\n      2 === t.length ? (this.render.setLeftPage(this.pages[t[0]]), this.render.setRightPage(this.pages[t[1]])) : \"landscape\" === this.render.getOrientation() && t[0] === this.pages.length - 1 ? (this.render.setLeftPage(this.pages[t[0]]), this.render.setRightPage(null)) : (this.render.setLeftPage(null), this.render.setRightPage(this.pages[t[0]])), this.currentPageIndex = t[0], this.app.updatePageIndex(this.currentPageIndex);\n    }\n  }\n  class n extends s {\n    constructor(t, e, i) {\n      super(t, e), this.imagesHref = i;\n    }\n    load() {\n      for (const t of this.imagesHref) {\n        const e = new i(this.render, t, \"soft\");\n        e.load(), this.pages.push(e);\n      }\n      this.createSpread();\n    }\n  }\n  class h {\n    static GetDistanceBetweenTwoPoint(t, e) {\n      return null === t || null === e ? 1 / 0 : Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));\n    }\n    static GetSegmentLength(t) {\n      return h.GetDistanceBetweenTwoPoint(t[0], t[1]);\n    }\n    static GetAngleBetweenTwoLine(t, e) {\n      const i = t[0].y - t[1].y,\n        s = e[0].y - e[1].y,\n        n = t[1].x - t[0].x,\n        h = e[1].x - e[0].x;\n      return Math.acos((i * s + n * h) / (Math.sqrt(i * i + n * n) * Math.sqrt(s * s + h * h)));\n    }\n    static PointInRect(t, e) {\n      return null === e ? null : e.x >= t.left && e.x <= t.width + t.left && e.y >= t.top && e.y <= t.top + t.height ? e : null;\n    }\n    static GetRotatedPoint(t, e, i) {\n      return {\n        x: t.x * Math.cos(i) + t.y * Math.sin(i) + e.x,\n        y: t.y * Math.cos(i) - t.x * Math.sin(i) + e.y\n      };\n    }\n    static LimitPointToCircle(t, e, i) {\n      if (h.GetDistanceBetweenTwoPoint(t, i) <= e) return i;\n      const s = t.x,\n        n = t.y,\n        r = i.x,\n        o = i.y;\n      let a = Math.sqrt(Math.pow(e, 2) * Math.pow(s - r, 2) / (Math.pow(s - r, 2) + Math.pow(n - o, 2))) + s;\n      i.x < 0 && (a *= -1);\n      let g = (a - s) * (n - o) / (s - r) + n;\n      return s - r + n === 0 && (g = e), {\n        x: a,\n        y: g\n      };\n    }\n    static GetIntersectBetweenTwoSegment(t, e, i) {\n      return h.PointInRect(t, h.GetIntersectBeetwenTwoLine(e, i));\n    }\n    static GetIntersectBeetwenTwoLine(t, e) {\n      const i = t[0].y - t[1].y,\n        s = e[0].y - e[1].y,\n        n = t[1].x - t[0].x,\n        h = e[1].x - e[0].x,\n        r = t[0].x * t[1].y - t[1].x * t[0].y,\n        o = e[0].x * e[1].y - e[1].x * e[0].y,\n        a = i * o - s * r,\n        g = n * o - h * r,\n        l = -(r * h - o * n) / (i * h - s * n),\n        d = -(i * o - s * r) / (i * h - s * n);\n      if (isFinite(l) && isFinite(d)) return {\n        x: l,\n        y: d\n      };\n      if (Math.abs(a - g) < .1) throw new Error(\"Segment included\");\n      return null;\n    }\n    static GetCordsFromTwoPoint(t, e) {\n      const i = Math.abs(t.x - e.x),\n        s = Math.abs(t.y - e.y),\n        n = Math.max(i, s),\n        h = [t];\n      function r(t, e, i, s, n) {\n        return e > t ? t + n * (i / s) : e < t ? t - n * (i / s) : t;\n      }\n      for (let o = 1; o <= n; o += 1) h.push({\n        x: r(t.x, e.x, i, n, o),\n        y: r(t.y, e.y, s, n, o)\n      });\n      return h;\n    }\n  }\n  class r extends e {\n    constructor(t, e, i) {\n      super(t, i), this.copiedElement = null, this.temporaryCopy = null, this.isLoad = !1, this.element = e, this.element.classList.add(\"stf__item\"), this.element.classList.add(\"--\" + i);\n    }\n    newTemporaryCopy() {\n      return \"hard\" === this.nowDrawingDensity ? this : (null === this.temporaryCopy && (this.copiedElement = this.element.cloneNode(!0), this.element.parentElement.appendChild(this.copiedElement), this.temporaryCopy = new r(this.render, this.copiedElement, this.nowDrawingDensity)), this.getTemporaryCopy());\n    }\n    getTemporaryCopy() {\n      return this.temporaryCopy;\n    }\n    hideTemporaryCopy() {\n      null !== this.temporaryCopy && (this.copiedElement.remove(), this.copiedElement = null, this.temporaryCopy = null);\n    }\n    draw(t) {\n      const e = t || this.nowDrawingDensity,\n        i = this.render.convertToGlobal(this.state.position),\n        s = this.render.getRect().pageWidth,\n        n = this.render.getRect().height;\n      this.element.classList.remove(\"--simple\");\n      const h = `\\n            display: block;\\n            z-index: ${this.element.style.zIndex};\\n            left: 0;\\n            top: 0;\\n            width: ${s}px;\\n            height: ${n}px;\\n        `;\n      \"hard\" === e ? this.drawHard(h) : this.drawSoft(i, h);\n    }\n    drawHard(t = \"\") {\n      const e = this.render.getRect().left + this.render.getRect().width / 2,\n        i = this.state.hardDrawingAngle,\n        s = t + \"\\n                backface-visibility: hidden;\\n                -webkit-backface-visibility: hidden;\\n                clip-path: none;\\n                -webkit-clip-path: none;\\n            \" + (0 === this.orientation ? `transform-origin: ${this.render.getRect().pageWidth}px 0; \\n                   transform: translate3d(0, 0, 0) rotateY(${i}deg);` : `transform-origin: 0 0; \\n                   transform: translate3d(${e}px, 0, 0) rotateY(${i}deg);`);\n      this.element.style.cssText = s;\n    }\n    drawSoft(t, e = \"\") {\n      let i = \"polygon( \";\n      for (const t of this.state.area) if (null !== t) {\n        let e = 1 === this.render.getDirection() ? {\n          x: -t.x + this.state.position.x,\n          y: t.y - this.state.position.y\n        } : {\n          x: t.x - this.state.position.x,\n          y: t.y - this.state.position.y\n        };\n        e = h.GetRotatedPoint(e, {\n          x: 0,\n          y: 0\n        }, this.state.angle), i += e.x + \"px \" + e.y + \"px, \";\n      }\n      i = i.slice(0, -2), i += \")\";\n      const s = e + `transform-origin: 0 0; clip-path: ${i}; -webkit-clip-path: ${i};` + (this.render.isSafari() && 0 === this.state.angle ? `transform: translate(${t.x}px, ${t.y}px);` : `transform: translate3d(${t.x}px, ${t.y}px, 0) rotate(${this.state.angle}rad);`);\n      this.element.style.cssText = s;\n    }\n    simpleDraw(t) {\n      const e = this.render.getRect(),\n        i = e.pageWidth,\n        s = e.height,\n        n = 1 === t ? e.left + e.pageWidth : e.left,\n        h = e.top;\n      this.element.classList.add(\"--simple\"), this.element.style.cssText = `\\n            position: absolute; \\n            display: block; \\n            height: ${s}px; \\n            left: ${n}px; \\n            top: ${h}px; \\n            width: ${i}px; \\n            z-index: ${this.render.getSettings().startZIndex + 1};`;\n    }\n    getElement() {\n      return this.element;\n    }\n    load() {\n      this.isLoad = !0;\n    }\n    setOrientation(t) {\n      super.setOrientation(t), this.element.classList.remove(\"--left\", \"--right\"), this.element.classList.add(1 === t ? \"--right\" : \"--left\");\n    }\n    setDrawingDensity(t) {\n      this.element.classList.remove(\"--soft\", \"--hard\"), this.element.classList.add(\"--\" + t), super.setDrawingDensity(t);\n    }\n  }\n  class o extends s {\n    constructor(t, e, i, s) {\n      super(t, e), this.element = i, this.pagesElement = s;\n    }\n    load() {\n      for (const t of this.pagesElement) {\n        const e = new r(this.render, t, \"hard\" === t.dataset.density ? \"hard\" : \"soft\");\n        e.load(), this.pages.push(e);\n      }\n      this.createSpread();\n    }\n  }\n  class a {\n    constructor(t, e, i, s) {\n      this.direction = t, this.corner = e, this.topIntersectPoint = null, this.sideIntersectPoint = null, this.bottomIntersectPoint = null, this.pageWidth = parseInt(i, 10), this.pageHeight = parseInt(s, 10);\n    }\n    calc(t) {\n      try {\n        return this.position = this.calcAngleAndPosition(t), this.calculateIntersectPoint(this.position), !0;\n      } catch (t) {\n        return !1;\n      }\n    }\n    getFlippingClipArea() {\n      const t = [];\n      let e = !1;\n      return t.push(this.rect.topLeft), t.push(this.topIntersectPoint), null === this.sideIntersectPoint ? e = !0 : (t.push(this.sideIntersectPoint), null === this.bottomIntersectPoint && (e = !1)), t.push(this.bottomIntersectPoint), (e || \"bottom\" === this.corner) && t.push(this.rect.bottomLeft), t;\n    }\n    getBottomClipArea() {\n      const t = [];\n      return t.push(this.topIntersectPoint), \"top\" === this.corner ? t.push({\n        x: this.pageWidth,\n        y: 0\n      }) : (null !== this.topIntersectPoint && t.push({\n        x: this.pageWidth,\n        y: 0\n      }), t.push({\n        x: this.pageWidth,\n        y: this.pageHeight\n      })), null !== this.sideIntersectPoint ? h.GetDistanceBetweenTwoPoint(this.sideIntersectPoint, this.topIntersectPoint) >= 10 && t.push(this.sideIntersectPoint) : \"top\" === this.corner && t.push({\n        x: this.pageWidth,\n        y: this.pageHeight\n      }), t.push(this.bottomIntersectPoint), t.push(this.topIntersectPoint), t;\n    }\n    getAngle() {\n      return 0 === this.direction ? -this.angle : this.angle;\n    }\n    getRect() {\n      return this.rect;\n    }\n    getPosition() {\n      return this.position;\n    }\n    getActiveCorner() {\n      return 0 === this.direction ? this.rect.topLeft : this.rect.topRight;\n    }\n    getDirection() {\n      return this.direction;\n    }\n    getFlippingProgress() {\n      return Math.abs((this.position.x - this.pageWidth) / (2 * this.pageWidth) * 100);\n    }\n    getCorner() {\n      return this.corner;\n    }\n    getBottomPagePosition() {\n      return 1 === this.direction ? {\n        x: this.pageWidth,\n        y: 0\n      } : {\n        x: 0,\n        y: 0\n      };\n    }\n    getShadowStartPoint() {\n      return \"top\" === this.corner ? this.topIntersectPoint : null !== this.sideIntersectPoint ? this.sideIntersectPoint : this.topIntersectPoint;\n    }\n    getShadowAngle() {\n      const t = h.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(), [{\n        x: 0,\n        y: 0\n      }, {\n        x: this.pageWidth,\n        y: 0\n      }]);\n      return 0 === this.direction ? t : Math.PI - t;\n    }\n    calcAngleAndPosition(t) {\n      let e = t;\n      if (this.updateAngleAndGeometry(e), e = \"top\" === this.corner ? this.checkPositionAtCenterLine(e, {\n        x: 0,\n        y: 0\n      }, {\n        x: 0,\n        y: this.pageHeight\n      }) : this.checkPositionAtCenterLine(e, {\n        x: 0,\n        y: this.pageHeight\n      }, {\n        x: 0,\n        y: 0\n      }), Math.abs(e.x - this.pageWidth) < 1 && Math.abs(e.y) < 1) throw new Error(\"Point is too small\");\n      return e;\n    }\n    updateAngleAndGeometry(t) {\n      this.angle = this.calculateAngle(t), this.rect = this.getPageRect(t);\n    }\n    calculateAngle(t) {\n      const e = this.pageWidth - t.x + 1,\n        i = \"bottom\" === this.corner ? this.pageHeight - t.y : t.y;\n      let s = 2 * Math.acos(e / Math.sqrt(i * i + e * e));\n      i < 0 && (s = -s);\n      const n = Math.PI - s;\n      if (!isFinite(s) || n >= 0 && n < .003) throw new Error(\"The G point is too small\");\n      return \"bottom\" === this.corner && (s = -s), s;\n    }\n    getPageRect(t) {\n      return \"top\" === this.corner ? this.getRectFromBasePoint([{\n        x: 0,\n        y: 0\n      }, {\n        x: this.pageWidth,\n        y: 0\n      }, {\n        x: 0,\n        y: this.pageHeight\n      }, {\n        x: this.pageWidth,\n        y: this.pageHeight\n      }], t) : this.getRectFromBasePoint([{\n        x: 0,\n        y: -this.pageHeight\n      }, {\n        x: this.pageWidth,\n        y: -this.pageHeight\n      }, {\n        x: 0,\n        y: 0\n      }, {\n        x: this.pageWidth,\n        y: 0\n      }], t);\n    }\n    getRectFromBasePoint(t, e) {\n      return {\n        topLeft: this.getRotatedPoint(t[0], e),\n        topRight: this.getRotatedPoint(t[1], e),\n        bottomLeft: this.getRotatedPoint(t[2], e),\n        bottomRight: this.getRotatedPoint(t[3], e)\n      };\n    }\n    getRotatedPoint(t, e) {\n      return {\n        x: t.x * Math.cos(this.angle) + t.y * Math.sin(this.angle) + e.x,\n        y: t.y * Math.cos(this.angle) - t.x * Math.sin(this.angle) + e.y\n      };\n    }\n    calculateIntersectPoint(t) {\n      const e = {\n        left: -1,\n        top: -1,\n        width: this.pageWidth + 2,\n        height: this.pageHeight + 2\n      };\n      \"top\" === this.corner ? (this.topIntersectPoint = h.GetIntersectBetweenTwoSegment(e, [t, this.rect.topRight], [{\n        x: 0,\n        y: 0\n      }, {\n        x: this.pageWidth,\n        y: 0\n      }]), this.sideIntersectPoint = h.GetIntersectBetweenTwoSegment(e, [t, this.rect.bottomLeft], [{\n        x: this.pageWidth,\n        y: 0\n      }, {\n        x: this.pageWidth,\n        y: this.pageHeight\n      }]), this.bottomIntersectPoint = h.GetIntersectBetweenTwoSegment(e, [this.rect.bottomLeft, this.rect.bottomRight], [{\n        x: 0,\n        y: this.pageHeight\n      }, {\n        x: this.pageWidth,\n        y: this.pageHeight\n      }])) : (this.topIntersectPoint = h.GetIntersectBetweenTwoSegment(e, [this.rect.topLeft, this.rect.topRight], [{\n        x: 0,\n        y: 0\n      }, {\n        x: this.pageWidth,\n        y: 0\n      }]), this.sideIntersectPoint = h.GetIntersectBetweenTwoSegment(e, [t, this.rect.topLeft], [{\n        x: this.pageWidth,\n        y: 0\n      }, {\n        x: this.pageWidth,\n        y: this.pageHeight\n      }]), this.bottomIntersectPoint = h.GetIntersectBetweenTwoSegment(e, [this.rect.bottomLeft, this.rect.bottomRight], [{\n        x: 0,\n        y: this.pageHeight\n      }, {\n        x: this.pageWidth,\n        y: this.pageHeight\n      }]));\n    }\n    checkPositionAtCenterLine(t, e, i) {\n      let s = t;\n      const n = h.LimitPointToCircle(e, this.pageWidth, s);\n      s !== n && (s = n, this.updateAngleAndGeometry(s));\n      const r = Math.sqrt(Math.pow(this.pageWidth, 2) + Math.pow(this.pageHeight, 2));\n      let o = this.rect.bottomRight,\n        a = this.rect.topLeft;\n      if (\"bottom\" === this.corner && (o = this.rect.topRight, a = this.rect.bottomLeft), o.x <= 0) {\n        const t = h.LimitPointToCircle(i, r, a);\n        t !== s && (s = t, this.updateAngleAndGeometry(s));\n      }\n      return s;\n    }\n    getSegmentToShadowLine() {\n      const t = this.getShadowStartPoint();\n      return [t, t !== this.sideIntersectPoint && null !== this.sideIntersectPoint ? this.sideIntersectPoint : this.bottomIntersectPoint];\n    }\n  }\n  class g {\n    constructor(t, e) {\n      this.flippingPage = null, this.bottomPage = null, this.calc = null, this.state = \"read\", this.render = t, this.app = e;\n    }\n    fold(t) {\n      this.setState(\"user_fold\"), null === this.calc && this.start(t), this.do(this.render.convertToPage(t));\n    }\n    flip(t) {\n      if (this.app.getSettings().disableFlipByClick && !this.isPointOnCorners(t)) return;\n      if (null !== this.calc && this.render.finishAnimation(), !this.start(t)) return;\n      const e = this.getBoundsRect();\n      this.setState(\"flipping\");\n      const i = e.height / 10,\n        s = \"bottom\" === this.calc.getCorner() ? e.height - i : i,\n        n = \"bottom\" === this.calc.getCorner() ? e.height : 0;\n      this.calc.calc({\n        x: e.pageWidth - i,\n        y: s\n      }), this.animateFlippingTo({\n        x: e.pageWidth - i,\n        y: s\n      }, {\n        x: -e.pageWidth,\n        y: n\n      }, !0);\n    }\n    start(t) {\n      this.reset();\n      const e = this.render.convertToBook(t),\n        i = this.getBoundsRect(),\n        s = this.getDirectionByPoint(e),\n        n = e.y >= i.height / 2 ? \"bottom\" : \"top\";\n      if (!this.checkDirection(s)) return !1;\n      try {\n        if (this.flippingPage = this.app.getPageCollection().getFlippingPage(s), this.bottomPage = this.app.getPageCollection().getBottomPage(s), \"landscape\" === this.render.getOrientation()) if (1 === s) {\n          const t = this.app.getPageCollection().nextBy(this.flippingPage);\n          null !== t && this.flippingPage.getDensity() !== t.getDensity() && (this.flippingPage.setDrawingDensity(\"hard\"), t.setDrawingDensity(\"hard\"));\n        } else {\n          const t = this.app.getPageCollection().prevBy(this.flippingPage);\n          null !== t && this.flippingPage.getDensity() !== t.getDensity() && (this.flippingPage.setDrawingDensity(\"hard\"), t.setDrawingDensity(\"hard\"));\n        }\n        return this.render.setDirection(s), this.calc = new a(s, n, i.pageWidth.toString(10), i.height.toString(10)), !0;\n      } catch (t) {\n        return !1;\n      }\n    }\n    do(t) {\n      if (null !== this.calc && this.calc.calc(t)) {\n        const t = this.calc.getFlippingProgress();\n        this.bottomPage.setArea(this.calc.getBottomClipArea()), this.bottomPage.setPosition(this.calc.getBottomPagePosition()), this.bottomPage.setAngle(0), this.bottomPage.setHardAngle(0), this.flippingPage.setArea(this.calc.getFlippingClipArea()), this.flippingPage.setPosition(this.calc.getActiveCorner()), this.flippingPage.setAngle(this.calc.getAngle()), 0 === this.calc.getDirection() ? this.flippingPage.setHardAngle(90 * (200 - 2 * t) / 100) : this.flippingPage.setHardAngle(-90 * (200 - 2 * t) / 100), this.render.setPageRect(this.calc.getRect()), this.render.setBottomPage(this.bottomPage), this.render.setFlippingPage(this.flippingPage), this.render.setShadowData(this.calc.getShadowStartPoint(), this.calc.getShadowAngle(), t, this.calc.getDirection());\n      }\n    }\n    flipToPage(t, e) {\n      const i = this.app.getPageCollection().getCurrentSpreadIndex(),\n        s = this.app.getPageCollection().getSpreadIndexByPage(t);\n      try {\n        s > i && (this.app.getPageCollection().setCurrentSpreadIndex(s - 1), this.flipNext(e)), s < i && (this.app.getPageCollection().setCurrentSpreadIndex(s + 1), this.flipPrev(e));\n      } catch (t) {}\n    }\n    flipNext(t) {\n      this.flip({\n        x: this.render.getRect().left + 2 * this.render.getRect().pageWidth - 10,\n        y: \"top\" === t ? 1 : this.render.getRect().height - 2\n      });\n    }\n    flipPrev(t) {\n      this.flip({\n        x: 10,\n        y: \"top\" === t ? 1 : this.render.getRect().height - 2\n      });\n    }\n    stopMove() {\n      if (null === this.calc) return;\n      const t = this.calc.getPosition(),\n        e = this.getBoundsRect(),\n        i = \"bottom\" === this.calc.getCorner() ? e.height : 0;\n      t.x <= 0 ? this.animateFlippingTo(t, {\n        x: -e.pageWidth,\n        y: i\n      }, !0) : this.animateFlippingTo(t, {\n        x: e.pageWidth,\n        y: i\n      }, !1);\n    }\n    showCorner(t) {\n      if (!this.checkState(\"read\", \"fold_corner\")) return;\n      const e = this.getBoundsRect(),\n        i = e.pageWidth;\n      if (this.isPointOnCorners(t)) {\n        if (null === this.calc) {\n          if (!this.start(t)) return;\n          this.setState(\"fold_corner\"), this.calc.calc({\n            x: i - 1,\n            y: 1\n          });\n          const s = 50,\n            n = \"bottom\" === this.calc.getCorner() ? e.height - 1 : 1,\n            h = \"bottom\" === this.calc.getCorner() ? e.height - s : s;\n          this.animateFlippingTo({\n            x: i - 1,\n            y: n\n          }, {\n            x: i - s,\n            y: h\n          }, !1, !1);\n        } else this.do(this.render.convertToPage(t));\n      } else this.setState(\"read\"), this.render.finishAnimation(), this.stopMove();\n    }\n    animateFlippingTo(t, e, i, s = !0) {\n      const n = h.GetCordsFromTwoPoint(t, e),\n        r = [];\n      for (const t of n) r.push(() => this.do(t));\n      const o = this.getAnimationDuration(n.length);\n      this.render.startAnimation(r, o, () => {\n        this.calc && (i && (1 === this.calc.getDirection() ? this.app.turnToPrevPage() : this.app.turnToNextPage()), s && (this.render.setBottomPage(null), this.render.setFlippingPage(null), this.render.clearShadow(), this.setState(\"read\"), this.reset()));\n      });\n    }\n    getCalculation() {\n      return this.calc;\n    }\n    getState() {\n      return this.state;\n    }\n    setState(t) {\n      this.state !== t && (this.app.updateState(t), this.state = t);\n    }\n    getDirectionByPoint(t) {\n      const e = this.getBoundsRect();\n      if (\"portrait\" === this.render.getOrientation()) {\n        if (t.x - e.pageWidth <= e.width / 5) return 1;\n      } else if (t.x < e.width / 2) return 1;\n      return 0;\n    }\n    getAnimationDuration(t) {\n      const e = this.app.getSettings().flippingTime;\n      return t >= 1e3 ? e : t / 1e3 * e;\n    }\n    checkDirection(t) {\n      return 0 === t ? this.app.getCurrentPageIndex() < this.app.getPageCount() - 1 : this.app.getCurrentPageIndex() >= 1;\n    }\n    reset() {\n      this.calc = null, this.flippingPage = null, this.bottomPage = null;\n    }\n    getBoundsRect() {\n      return this.render.getRect();\n    }\n    checkState(...t) {\n      for (const e of t) if (this.state === e) return !0;\n      return !1;\n    }\n    isPointOnCorners(t) {\n      const e = this.getBoundsRect(),\n        i = e.pageWidth,\n        s = Math.sqrt(Math.pow(i, 2) + Math.pow(e.height, 2)) / 5,\n        n = this.render.convertToBook(t);\n      return n.x > 0 && n.y > 0 && n.x < e.width && n.y < e.height && (n.x < s || n.x > e.width - s) && (n.y < s || n.y > e.height - s);\n    }\n  }\n  class l {\n    constructor(t, e) {\n      this.leftPage = null, this.rightPage = null, this.flippingPage = null, this.bottomPage = null, this.direction = null, this.orientation = null, this.shadow = null, this.animation = null, this.pageRect = null, this.boundsRect = null, this.timer = 0, this.safari = !1, this.setting = e, this.app = t;\n      const i = new RegExp(\"Version\\\\/[\\\\d\\\\.]+.*Safari/\");\n      this.safari = null !== i.exec(window.navigator.userAgent);\n    }\n    render(t) {\n      if (null !== this.animation) {\n        const e = Math.round((t - this.animation.startedAt) / this.animation.durationFrame);\n        e < this.animation.frames.length ? this.animation.frames[e]() : (this.animation.onAnimateEnd(), this.animation = null);\n      }\n      this.timer = t, this.drawFrame();\n    }\n    start() {\n      this.update();\n      const t = e => {\n        this.render(e), requestAnimationFrame(t);\n      };\n      requestAnimationFrame(t);\n    }\n    startAnimation(t, e, i) {\n      this.finishAnimation(), this.animation = {\n        frames: t,\n        duration: e,\n        durationFrame: e / t.length,\n        onAnimateEnd: i,\n        startedAt: this.timer\n      };\n    }\n    finishAnimation() {\n      null !== this.animation && (this.animation.frames[this.animation.frames.length - 1](), null !== this.animation.onAnimateEnd && this.animation.onAnimateEnd()), this.animation = null;\n    }\n    update() {\n      this.boundsRect = null;\n      const t = this.calculateBoundsRect();\n      this.orientation !== t && (this.orientation = t, this.app.updateOrientation(t));\n    }\n    calculateBoundsRect() {\n      let t = \"landscape\";\n      const e = this.getBlockWidth(),\n        i = e / 2,\n        s = this.getBlockHeight() / 2,\n        n = this.setting.width / this.setting.height;\n      let h = this.setting.width,\n        r = this.setting.height,\n        o = i - h;\n      return \"stretch\" === this.setting.size ? (e < 2 * this.setting.minWidth && this.app.getSettings().usePortrait && (t = \"portrait\"), h = \"portrait\" === t ? this.getBlockWidth() : this.getBlockWidth() / 2, h > this.setting.maxWidth && (h = this.setting.maxWidth), r = h / n, r > this.getBlockHeight() && (r = this.getBlockHeight(), h = r * n), o = \"portrait\" === t ? i - h / 2 - h : i - h) : e < 2 * h && this.app.getSettings().usePortrait && (t = \"portrait\", o = i - h / 2 - h), this.boundsRect = {\n        left: o,\n        top: s - r / 2,\n        width: 2 * h,\n        height: r,\n        pageWidth: h\n      }, t;\n    }\n    setShadowData(t, e, i, s) {\n      if (!this.app.getSettings().drawShadow) return;\n      const n = 100 * this.getSettings().maxShadowOpacity;\n      this.shadow = {\n        pos: t,\n        angle: e,\n        width: 3 * this.getRect().pageWidth / 4 * i / 100,\n        opacity: (100 - i) * n / 100 / 100,\n        direction: s,\n        progress: 2 * i\n      };\n    }\n    clearShadow() {\n      this.shadow = null;\n    }\n    getBlockWidth() {\n      return this.app.getUI().getDistElement().offsetWidth;\n    }\n    getBlockHeight() {\n      return this.app.getUI().getDistElement().offsetHeight;\n    }\n    getDirection() {\n      return this.direction;\n    }\n    getRect() {\n      return null === this.boundsRect && this.calculateBoundsRect(), this.boundsRect;\n    }\n    getSettings() {\n      return this.app.getSettings();\n    }\n    getOrientation() {\n      return this.orientation;\n    }\n    setPageRect(t) {\n      this.pageRect = t;\n    }\n    setDirection(t) {\n      this.direction = t;\n    }\n    setRightPage(t) {\n      null !== t && t.setOrientation(1), this.rightPage = t;\n    }\n    setLeftPage(t) {\n      null !== t && t.setOrientation(0), this.leftPage = t;\n    }\n    setBottomPage(t) {\n      null !== t && t.setOrientation(1 === this.direction ? 0 : 1), this.bottomPage = t;\n    }\n    setFlippingPage(t) {\n      null !== t && t.setOrientation(0 === this.direction && \"portrait\" !== this.orientation ? 0 : 1), this.flippingPage = t;\n    }\n    convertToBook(t) {\n      const e = this.getRect();\n      return {\n        x: t.x - e.left,\n        y: t.y - e.top\n      };\n    }\n    isSafari() {\n      return this.safari;\n    }\n    convertToPage(t, e) {\n      e || (e = this.direction);\n      const i = this.getRect();\n      return {\n        x: 0 === e ? t.x - i.left - i.width / 2 : i.width / 2 - t.x + i.left,\n        y: t.y - i.top\n      };\n    }\n    convertToGlobal(t, e) {\n      if (e || (e = this.direction), null == t) return null;\n      const i = this.getRect();\n      return {\n        x: 0 === e ? t.x + i.left + i.width / 2 : i.width / 2 - t.x + i.left,\n        y: t.y + i.top\n      };\n    }\n    convertRectToGlobal(t, e) {\n      return e || (e = this.direction), {\n        topLeft: this.convertToGlobal(t.topLeft, e),\n        topRight: this.convertToGlobal(t.topRight, e),\n        bottomLeft: this.convertToGlobal(t.bottomLeft, e),\n        bottomRight: this.convertToGlobal(t.bottomRight, e)\n      };\n    }\n  }\n  class d extends l {\n    constructor(t, e, i) {\n      super(t, e), this.canvas = i, this.ctx = i.getContext(\"2d\");\n    }\n    getContext() {\n      return this.ctx;\n    }\n    reload() {}\n    drawFrame() {\n      this.clear(), \"portrait\" !== this.orientation && null != this.leftPage && this.leftPage.simpleDraw(0), null != this.rightPage && this.rightPage.simpleDraw(1), null != this.bottomPage && this.bottomPage.draw(), this.drawBookShadow(), null != this.flippingPage && this.flippingPage.draw(), null != this.shadow && (this.drawOuterShadow(), this.drawInnerShadow());\n      const t = this.getRect();\n      \"portrait\" === this.orientation && (this.ctx.beginPath(), this.ctx.rect(t.left + t.pageWidth, t.top, t.width, t.height), this.ctx.clip());\n    }\n    drawBookShadow() {\n      const t = this.getRect();\n      this.ctx.save(), this.ctx.beginPath();\n      const e = t.width / 20;\n      this.ctx.rect(t.left, t.top, t.width, t.height);\n      const i = {\n        x: t.left + t.width / 2 - e / 2,\n        y: 0\n      };\n      this.ctx.translate(i.x, i.y);\n      const s = this.ctx.createLinearGradient(0, 0, e, 0);\n      s.addColorStop(0, \"rgba(0, 0, 0, 0)\"), s.addColorStop(.4, \"rgba(0, 0, 0, 0.2)\"), s.addColorStop(.49, \"rgba(0, 0, 0, 0.1)\"), s.addColorStop(.5, \"rgba(0, 0, 0, 0.5)\"), s.addColorStop(.51, \"rgba(0, 0, 0, 0.4)\"), s.addColorStop(1, \"rgba(0, 0, 0, 0)\"), this.ctx.clip(), this.ctx.fillStyle = s, this.ctx.fillRect(0, 0, e, 2 * t.height), this.ctx.restore();\n    }\n    drawOuterShadow() {\n      const t = this.getRect();\n      this.ctx.save(), this.ctx.beginPath(), this.ctx.rect(t.left, t.top, t.width, t.height);\n      const e = this.convertToGlobal({\n        x: this.shadow.pos.x,\n        y: this.shadow.pos.y\n      });\n      this.ctx.translate(e.x, e.y), this.ctx.rotate(Math.PI + this.shadow.angle + Math.PI / 2);\n      const i = this.ctx.createLinearGradient(0, 0, this.shadow.width, 0);\n      0 === this.shadow.direction ? (this.ctx.translate(0, -100), i.addColorStop(0, \"rgba(0, 0, 0, \" + this.shadow.opacity + \")\"), i.addColorStop(1, \"rgba(0, 0, 0, 0)\")) : (this.ctx.translate(-this.shadow.width, -100), i.addColorStop(0, \"rgba(0, 0, 0, 0)\"), i.addColorStop(1, \"rgba(0, 0, 0, \" + this.shadow.opacity + \")\")), this.ctx.clip(), this.ctx.fillStyle = i, this.ctx.fillRect(0, 0, this.shadow.width, 2 * t.height), this.ctx.restore();\n    }\n    drawInnerShadow() {\n      const t = this.getRect();\n      this.ctx.save(), this.ctx.beginPath();\n      const e = this.convertToGlobal({\n          x: this.shadow.pos.x,\n          y: this.shadow.pos.y\n        }),\n        i = this.convertRectToGlobal(this.pageRect);\n      this.ctx.moveTo(i.topLeft.x, i.topLeft.y), this.ctx.lineTo(i.topRight.x, i.topRight.y), this.ctx.lineTo(i.bottomRight.x, i.bottomRight.y), this.ctx.lineTo(i.bottomLeft.x, i.bottomLeft.y), this.ctx.translate(e.x, e.y), this.ctx.rotate(Math.PI + this.shadow.angle + Math.PI / 2);\n      const s = 3 * this.shadow.width / 4,\n        n = this.ctx.createLinearGradient(0, 0, s, 0);\n      0 === this.shadow.direction ? (this.ctx.translate(-s, -100), n.addColorStop(1, \"rgba(0, 0, 0, \" + this.shadow.opacity + \")\"), n.addColorStop(.9, \"rgba(0, 0, 0, 0.05)\"), n.addColorStop(.7, \"rgba(0, 0, 0, \" + this.shadow.opacity + \")\"), n.addColorStop(0, \"rgba(0, 0, 0, 0)\")) : (this.ctx.translate(0, -100), n.addColorStop(0, \"rgba(0, 0, 0, \" + this.shadow.opacity + \")\"), n.addColorStop(.1, \"rgba(0, 0, 0, 0.05)\"), n.addColorStop(.3, \"rgba(0, 0, 0, \" + this.shadow.opacity + \")\"), n.addColorStop(1, \"rgba(0, 0, 0, 0)\")), this.ctx.clip(), this.ctx.fillStyle = n, this.ctx.fillRect(0, 0, s, 2 * t.height), this.ctx.restore();\n    }\n    clear() {\n      this.ctx.fillStyle = \"white\", this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n  }\n  class p {\n    constructor(t, e, i) {\n      this.touchPoint = null, this.swipeTimeout = 250, this.onResize = () => {\n        this.update();\n      }, this.onMouseDown = t => {\n        if (this.checkTarget(t.target)) {\n          const e = this.getMousePos(t.clientX, t.clientY);\n          this.app.startUserTouch(e), t.preventDefault();\n        }\n      }, this.onTouchStart = t => {\n        if (this.checkTarget(t.target) && t.changedTouches.length > 0) {\n          const e = t.changedTouches[0],\n            i = this.getMousePos(e.clientX, e.clientY);\n          this.touchPoint = {\n            point: i,\n            time: Date.now()\n          }, setTimeout(() => {\n            null !== this.touchPoint && this.app.startUserTouch(i);\n          }, this.swipeTimeout), this.app.getSettings().mobileScrollSupport || t.preventDefault();\n        }\n      }, this.onMouseUp = t => {\n        const e = this.getMousePos(t.clientX, t.clientY);\n        this.app.userStop(e);\n      }, this.onMouseMove = t => {\n        const e = this.getMousePos(t.clientX, t.clientY);\n        this.app.userMove(e, !1);\n      }, this.onTouchMove = t => {\n        if (t.changedTouches.length > 0) {\n          const e = t.changedTouches[0],\n            i = this.getMousePos(e.clientX, e.clientY);\n          this.app.getSettings().mobileScrollSupport ? (null !== this.touchPoint && (Math.abs(this.touchPoint.point.x - i.x) > 10 || \"read\" !== this.app.getState()) && t.cancelable && this.app.userMove(i, !0), \"read\" !== this.app.getState() && t.preventDefault()) : this.app.userMove(i, !0);\n        }\n      }, this.onTouchEnd = t => {\n        if (t.changedTouches.length > 0) {\n          const e = t.changedTouches[0],\n            i = this.getMousePos(e.clientX, e.clientY);\n          let s = !1;\n          if (null !== this.touchPoint) {\n            const t = i.x - this.touchPoint.point.x,\n              e = Math.abs(i.y - this.touchPoint.point.y);\n            Math.abs(t) > this.swipeDistance && e < 2 * this.swipeDistance && Date.now() - this.touchPoint.time < this.swipeTimeout && (t > 0 ? this.app.flipPrev(this.touchPoint.point.y < this.app.getRender().getRect().height / 2 ? \"top\" : \"bottom\") : this.app.flipNext(this.touchPoint.point.y < this.app.getRender().getRect().height / 2 ? \"top\" : \"bottom\"), s = !0), this.touchPoint = null;\n          }\n          this.app.userStop(i, s);\n        }\n      }, this.parentElement = t, t.classList.add(\"stf__parent\"), t.insertAdjacentHTML(\"afterbegin\", '<div class=\"stf__wrapper\"></div>'), this.wrapper = t.querySelector(\".stf__wrapper\"), this.app = e;\n      const s = this.app.getSettings().usePortrait ? 1 : 2;\n      t.style.minWidth = i.minWidth * s + \"px\", t.style.minHeight = i.minHeight + \"px\", \"fixed\" === i.size && (t.style.minWidth = i.width * s + \"px\", t.style.minHeight = i.height + \"px\"), i.autoSize && (t.style.width = \"100%\", t.style.maxWidth = 2 * i.maxWidth + \"px\"), t.style.display = \"block\", window.addEventListener(\"resize\", this.onResize, !1), this.swipeDistance = i.swipeDistance;\n    }\n    destroy() {\n      this.app.getSettings().useMouseEvents && this.removeHandlers(), this.distElement.remove(), this.wrapper.remove();\n    }\n    getDistElement() {\n      return this.distElement;\n    }\n    getWrapper() {\n      return this.wrapper;\n    }\n    setOrientationStyle(t) {\n      this.wrapper.classList.remove(\"--portrait\", \"--landscape\"), \"portrait\" === t ? (this.app.getSettings().autoSize && (this.wrapper.style.paddingBottom = this.app.getSettings().height / this.app.getSettings().width * 100 + \"%\"), this.wrapper.classList.add(\"--portrait\")) : (this.app.getSettings().autoSize && (this.wrapper.style.paddingBottom = this.app.getSettings().height / (2 * this.app.getSettings().width) * 100 + \"%\"), this.wrapper.classList.add(\"--landscape\")), this.update();\n    }\n    removeHandlers() {\n      window.removeEventListener(\"resize\", this.onResize), this.distElement.removeEventListener(\"mousedown\", this.onMouseDown), this.distElement.removeEventListener(\"touchstart\", this.onTouchStart), window.removeEventListener(\"mousemove\", this.onMouseMove), window.removeEventListener(\"touchmove\", this.onTouchMove), window.removeEventListener(\"mouseup\", this.onMouseUp), window.removeEventListener(\"touchend\", this.onTouchEnd);\n    }\n    setHandlers() {\n      window.addEventListener(\"resize\", this.onResize, !1), this.app.getSettings().useMouseEvents && (this.distElement.addEventListener(\"mousedown\", this.onMouseDown), this.distElement.addEventListener(\"touchstart\", this.onTouchStart), window.addEventListener(\"mousemove\", this.onMouseMove), window.addEventListener(\"touchmove\", this.onTouchMove, {\n        passive: !this.app.getSettings().mobileScrollSupport\n      }), window.addEventListener(\"mouseup\", this.onMouseUp), window.addEventListener(\"touchend\", this.onTouchEnd));\n    }\n    getMousePos(t, e) {\n      const i = this.distElement.getBoundingClientRect();\n      return {\n        x: t - i.left,\n        y: e - i.top\n      };\n    }\n    checkTarget(t) {\n      return !this.app.getSettings().clickEventForward || ![\"a\", \"button\"].includes(t.tagName.toLowerCase());\n    }\n  }\n  class c extends p {\n    constructor(t, e, i, s) {\n      super(t, e, i), this.wrapper.insertAdjacentHTML(\"afterbegin\", '<div class=\"stf__block\"></div>'), this.distElement = t.querySelector(\".stf__block\"), this.items = s;\n      for (const t of s) this.distElement.appendChild(t);\n      this.setHandlers();\n    }\n    clear() {\n      for (const t of this.items) this.parentElement.appendChild(t);\n    }\n    updateItems(t) {\n      this.removeHandlers(), this.distElement.innerHTML = \"\";\n      for (const e of t) this.distElement.appendChild(e);\n      this.items = t, this.setHandlers();\n    }\n    update() {\n      this.app.getRender().update();\n    }\n  }\n  class u extends p {\n    constructor(t, e, i) {\n      super(t, e, i), this.wrapper.innerHTML = '<canvas class=\"stf__canvas\"></canvas>', this.canvas = t.querySelectorAll(\"canvas\")[0], this.distElement = this.canvas, this.resizeCanvas(), this.setHandlers();\n    }\n    resizeCanvas() {\n      const t = getComputedStyle(this.canvas),\n        e = parseInt(t.getPropertyValue(\"width\"), 10),\n        i = parseInt(t.getPropertyValue(\"height\"), 10);\n      this.canvas.width = e, this.canvas.height = i;\n    }\n    getCanvas() {\n      return this.canvas;\n    }\n    update() {\n      this.resizeCanvas(), this.app.getRender().update();\n    }\n  }\n  class w extends l {\n    constructor(t, e, i) {\n      super(t, e), this.outerShadow = null, this.innerShadow = null, this.hardShadow = null, this.hardInnerShadow = null, this.element = i, this.createShadows();\n    }\n    createShadows() {\n      this.element.insertAdjacentHTML(\"beforeend\", '<div class=\"stf__outerShadow\"></div>\\n             <div class=\"stf__innerShadow\"></div>\\n             <div class=\"stf__hardShadow\"></div>\\n             <div class=\"stf__hardInnerShadow\"></div>'), this.outerShadow = this.element.querySelector(\".stf__outerShadow\"), this.innerShadow = this.element.querySelector(\".stf__innerShadow\"), this.hardShadow = this.element.querySelector(\".stf__hardShadow\"), this.hardInnerShadow = this.element.querySelector(\".stf__hardInnerShadow\");\n    }\n    clearShadow() {\n      super.clearShadow(), this.outerShadow.style.cssText = \"display: none\", this.innerShadow.style.cssText = \"display: none\", this.hardShadow.style.cssText = \"display: none\", this.hardInnerShadow.style.cssText = \"display: none\";\n    }\n    reload() {\n      this.element.querySelector(\".stf__outerShadow\") || this.createShadows();\n    }\n    drawHardInnerShadow() {\n      const t = this.getRect(),\n        e = this.shadow.progress > 100 ? 200 - this.shadow.progress : this.shadow.progress;\n      let i = (100 - e) * (2.5 * t.pageWidth) / 100 + 20;\n      i > t.pageWidth && (i = t.pageWidth);\n      let s = `\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex + 5).toString(10)};\\n            width: ${i}px;\\n            height: ${t.height}px;\\n            background: linear-gradient(to right,\\n                rgba(0, 0, 0, ${this.shadow.opacity * e / 100}) 5%,\\n                rgba(0, 0, 0, 0) 100%);\\n            left: ${t.left + t.width / 2}px;\\n            transform-origin: 0 0;\\n        `;\n      s += 0 === this.getDirection() && this.shadow.progress > 100 || 1 === this.getDirection() && this.shadow.progress <= 100 ? \"transform: translate3d(0, 0, 0);\" : \"transform: translate3d(0, 0, 0) rotateY(180deg);\", this.hardInnerShadow.style.cssText = s;\n    }\n    drawHardOuterShadow() {\n      const t = this.getRect();\n      let e = (100 - (this.shadow.progress > 100 ? 200 - this.shadow.progress : this.shadow.progress)) * (2.5 * t.pageWidth) / 100 + 20;\n      e > t.pageWidth && (e = t.pageWidth);\n      let i = `\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex + 4).toString(10)};\\n            width: ${e}px;\\n            height: ${t.height}px;\\n            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);\\n            left: ${t.left + t.width / 2}px;\\n            transform-origin: 0 0;\\n        `;\n      i += 0 === this.getDirection() && this.shadow.progress > 100 || 1 === this.getDirection() && this.shadow.progress <= 100 ? \"transform: translate3d(0, 0, 0) rotateY(180deg);\" : \"transform: translate3d(0, 0, 0);\", this.hardShadow.style.cssText = i;\n    }\n    drawInnerShadow() {\n      const t = this.getRect(),\n        e = 3 * this.shadow.width / 4,\n        i = 0 === this.getDirection() ? e : 0,\n        s = 0 === this.getDirection() ? \"to left\" : \"to right\",\n        n = this.convertToGlobal(this.shadow.pos),\n        r = this.shadow.angle + 3 * Math.PI / 2,\n        o = [this.pageRect.topLeft, this.pageRect.topRight, this.pageRect.bottomRight, this.pageRect.bottomLeft];\n      let a = \"polygon( \";\n      for (const t of o) {\n        let e = 1 === this.getDirection() ? {\n          x: -t.x + this.shadow.pos.x,\n          y: t.y - this.shadow.pos.y\n        } : {\n          x: t.x - this.shadow.pos.x,\n          y: t.y - this.shadow.pos.y\n        };\n        e = h.GetRotatedPoint(e, {\n          x: i,\n          y: 100\n        }, r), a += e.x + \"px \" + e.y + \"px, \";\n      }\n      a = a.slice(0, -2), a += \")\";\n      const g = `\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex + 10).toString(10)};\\n            width: ${e}px;\\n            height: ${2 * t.height}px;\\n            background: linear-gradient(${s},\\n                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,\\n                rgba(0, 0, 0, 0.05) 15%,\\n                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,\\n                rgba(0, 0, 0, 0) 100%);\\n            transform-origin: ${i}px 100px;\\n            transform: translate3d(${n.x - i}px, ${n.y - 100}px, 0) rotate(${r}rad);\\n            clip-path: ${a};\\n            -webkit-clip-path: ${a};\\n        `;\n      this.innerShadow.style.cssText = g;\n    }\n    drawOuterShadow() {\n      const t = this.getRect(),\n        e = this.convertToGlobal({\n          x: this.shadow.pos.x,\n          y: this.shadow.pos.y\n        }),\n        i = this.shadow.angle + 3 * Math.PI / 2,\n        s = 1 === this.getDirection() ? this.shadow.width : 0,\n        n = 0 === this.getDirection() ? \"to right\" : \"to left\",\n        r = [{\n          x: 0,\n          y: 0\n        }, {\n          x: t.pageWidth,\n          y: 0\n        }, {\n          x: t.pageWidth,\n          y: t.height\n        }, {\n          x: 0,\n          y: t.height\n        }];\n      let o = \"polygon( \";\n      for (const t of r) if (null !== t) {\n        let e = 1 === this.getDirection() ? {\n          x: -t.x + this.shadow.pos.x,\n          y: t.y - this.shadow.pos.y\n        } : {\n          x: t.x - this.shadow.pos.x,\n          y: t.y - this.shadow.pos.y\n        };\n        e = h.GetRotatedPoint(e, {\n          x: s,\n          y: 100\n        }, i), o += e.x + \"px \" + e.y + \"px, \";\n      }\n      o = o.slice(0, -2), o += \")\";\n      const a = `\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex + 10).toString(10)};\\n            width: ${this.shadow.width}px;\\n            height: ${2 * t.height}px;\\n            background: linear-gradient(${n}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));\\n            transform-origin: ${s}px 100px;\\n            transform: translate3d(${e.x - s}px, ${e.y - 100}px, 0) rotate(${i}rad);\\n            clip-path: ${o};\\n            -webkit-clip-path: ${o};\\n        `;\n      this.outerShadow.style.cssText = a;\n    }\n    drawLeftPage() {\n      \"portrait\" !== this.orientation && null !== this.leftPage && (1 === this.direction && null !== this.flippingPage && \"hard\" === this.flippingPage.getDrawingDensity() ? (this.leftPage.getElement().style.zIndex = (this.getSettings().startZIndex + 5).toString(10), this.leftPage.setHardDrawingAngle(180 + this.flippingPage.getHardAngle()), this.leftPage.draw(this.flippingPage.getDrawingDensity())) : this.leftPage.simpleDraw(0));\n    }\n    drawRightPage() {\n      null !== this.rightPage && (0 === this.direction && null !== this.flippingPage && \"hard\" === this.flippingPage.getDrawingDensity() ? (this.rightPage.getElement().style.zIndex = (this.getSettings().startZIndex + 5).toString(10), this.rightPage.setHardDrawingAngle(180 + this.flippingPage.getHardAngle()), this.rightPage.draw(this.flippingPage.getDrawingDensity())) : this.rightPage.simpleDraw(1));\n    }\n    drawBottomPage() {\n      if (null === this.bottomPage) return;\n      const t = null != this.flippingPage ? this.flippingPage.getDrawingDensity() : null;\n      \"portrait\" === this.orientation && 1 === this.direction || (this.bottomPage.getElement().style.zIndex = (this.getSettings().startZIndex + 3).toString(10), this.bottomPage.draw(t));\n    }\n    drawFrame() {\n      this.clear(), this.drawLeftPage(), this.drawRightPage(), this.drawBottomPage(), null != this.flippingPage && (this.flippingPage.getElement().style.zIndex = (this.getSettings().startZIndex + 5).toString(10), this.flippingPage.draw()), null != this.shadow && null !== this.flippingPage && (\"soft\" === this.flippingPage.getDrawingDensity() ? (this.drawOuterShadow(), this.drawInnerShadow()) : (this.drawHardOuterShadow(), this.drawHardInnerShadow()));\n    }\n    clear() {\n      for (const t of this.app.getPageCollection().getPages()) t !== this.leftPage && t !== this.rightPage && t !== this.flippingPage && t !== this.bottomPage && (t.getElement().style.cssText = \"display: none\"), t.getTemporaryCopy() !== this.flippingPage && t.hideTemporaryCopy();\n    }\n    update() {\n      super.update(), null !== this.rightPage && this.rightPage.setOrientation(1), null !== this.leftPage && this.leftPage.setOrientation(0);\n    }\n  }\n  class x {\n    constructor() {\n      this._default = {\n        startPage: 0,\n        size: \"fixed\",\n        width: 0,\n        height: 0,\n        minWidth: 0,\n        maxWidth: 0,\n        minHeight: 0,\n        maxHeight: 0,\n        drawShadow: !0,\n        flippingTime: 1e3,\n        usePortrait: !0,\n        startZIndex: 0,\n        autoSize: !0,\n        maxShadowOpacity: 1,\n        showCover: !1,\n        mobileScrollSupport: !0,\n        swipeDistance: 30,\n        clickEventForward: !0,\n        useMouseEvents: !0,\n        showPageCorners: !0,\n        disableFlipByClick: !1\n      };\n    }\n    getSettings(t) {\n      const e = this._default;\n      if (Object.assign(e, t), \"stretch\" !== e.size && \"fixed\" !== e.size) throw new Error('Invalid size type. Available only \"fixed\" and \"stretch\" value');\n      if (e.width <= 0 || e.height <= 0) throw new Error(\"Invalid width or height\");\n      if (e.flippingTime <= 0) throw new Error(\"Invalid flipping time\");\n      return \"stretch\" === e.size ? (e.minWidth <= 0 && (e.minWidth = 100), e.maxWidth < e.minWidth && (e.maxWidth = 2e3), e.minHeight <= 0 && (e.minHeight = 100), e.maxHeight < e.minHeight && (e.maxHeight = 2e3)) : (e.minWidth = e.width, e.maxWidth = e.width, e.minHeight = e.height, e.maxHeight = e.height), e;\n    }\n  }\n  !function (t, e) {\n    void 0 === e && (e = {});\n    var i = e.insertAt;\n    if (t && \"undefined\" != typeof document) {\n      var s = document.head || document.getElementsByTagName(\"head\")[0],\n        n = document.createElement(\"style\");\n      n.type = \"text/css\", \"top\" === i && s.firstChild ? s.insertBefore(n, s.firstChild) : s.appendChild(n), n.styleSheet ? n.styleSheet.cssText = t : n.appendChild(document.createTextNode(t));\n    }\n  }(\".stf__parent {\\n  position: relative;\\n  display: block;\\n  box-sizing: border-box;\\n  transform: translateZ(0);\\n\\n  -ms-touch-action: pan-y;\\n  touch-action: pan-y;\\n}\\n\\n.sft__wrapper {\\n  position: relative;\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.stf__parent canvas {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__block {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  perspective: 2000px;\\n}\\n\\n.stf__item {\\n  display: none;\\n  position: absolute;\\n  transform-style: preserve-3d;\\n}\\n\\n.stf__outerShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__innerShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__hardShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__hardInnerShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\");\n  t.PageFlip = class extends class {\n    constructor() {\n      this.events = new Map();\n    }\n    on(t, e) {\n      return this.events.has(t) ? this.events.get(t).push(e) : this.events.set(t, [e]), this;\n    }\n    off(t) {\n      this.events.delete(t);\n    }\n    trigger(t, e, i = null) {\n      if (this.events.has(t)) for (const s of this.events.get(t)) s({\n        data: i,\n        object: e\n      });\n    }\n  } {\n    constructor(t, e) {\n      super(), this.isUserTouch = !1, this.isUserMove = !1, this.setting = null, this.pages = null, this.setting = new x().getSettings(e), this.block = t;\n    }\n    destroy() {\n      this.ui.destroy(), this.block.remove();\n    }\n    update() {\n      this.render.update(), this.pages.show();\n    }\n    loadFromImages(t) {\n      this.ui = new u(this.block, this, this.setting);\n      const e = this.ui.getCanvas();\n      this.render = new d(this, this.setting, e), this.flipController = new g(this.render, this), this.pages = new n(this, this.render, t), this.pages.load(), this.render.start(), this.pages.show(this.setting.startPage), setTimeout(() => {\n        this.ui.update(), this.trigger(\"init\", this, {\n          page: this.setting.startPage,\n          mode: this.render.getOrientation()\n        });\n      }, 1);\n    }\n    loadFromHTML(t) {\n      this.ui = new c(this.block, this, this.setting, t), this.render = new w(this, this.setting, this.ui.getDistElement()), this.flipController = new g(this.render, this), this.pages = new o(this, this.render, this.ui.getDistElement(), t), this.pages.load(), this.render.start(), this.pages.show(this.setting.startPage), setTimeout(() => {\n        this.ui.update(), this.trigger(\"init\", this, {\n          page: this.setting.startPage,\n          mode: this.render.getOrientation()\n        });\n      }, 1);\n    }\n    updateFromImages(t) {\n      const e = this.pages.getCurrentPageIndex();\n      this.pages.destroy(), this.pages = new n(this, this.render, t), this.pages.load(), this.pages.show(e), this.trigger(\"update\", this, {\n        page: e,\n        mode: this.render.getOrientation()\n      });\n    }\n    updateFromHtml(t) {\n      const e = this.pages.getCurrentPageIndex();\n      this.pages.destroy(), this.pages = new o(this, this.render, this.ui.getDistElement(), t), this.pages.load(), this.ui.updateItems(t), this.render.reload(), this.pages.show(e), this.trigger(\"update\", this, {\n        page: e,\n        mode: this.render.getOrientation()\n      });\n    }\n    clear() {\n      this.pages.destroy(), this.ui.clear();\n    }\n    turnToPrevPage() {\n      this.pages.showPrev();\n    }\n    turnToNextPage() {\n      this.pages.showNext();\n    }\n    turnToPage(t) {\n      this.pages.show(t);\n    }\n    flipNext(t = \"top\") {\n      this.flipController.flipNext(t);\n    }\n    flipPrev(t = \"top\") {\n      this.flipController.flipPrev(t);\n    }\n    flip(t, e = \"top\") {\n      this.flipController.flipToPage(t, e);\n    }\n    updateState(t) {\n      this.trigger(\"changeState\", this, t);\n    }\n    updatePageIndex(t) {\n      this.trigger(\"flip\", this, t);\n    }\n    updateOrientation(t) {\n      this.ui.setOrientationStyle(t), this.update(), this.trigger(\"changeOrientation\", this, t);\n    }\n    getPageCount() {\n      return this.pages.getPageCount();\n    }\n    getCurrentPageIndex() {\n      return this.pages.getCurrentPageIndex();\n    }\n    getPage(t) {\n      return this.pages.getPage(t);\n    }\n    getRender() {\n      return this.render;\n    }\n    getFlipController() {\n      return this.flipController;\n    }\n    getOrientation() {\n      return this.render.getOrientation();\n    }\n    getBoundsRect() {\n      return this.render.getRect();\n    }\n    getSettings() {\n      return this.setting;\n    }\n    getUI() {\n      return this.ui;\n    }\n    getState() {\n      return this.flipController.getState();\n    }\n    getPageCollection() {\n      return this.pages;\n    }\n    startUserTouch(t) {\n      this.mousePosition = t, this.isUserTouch = !0, this.isUserMove = !1;\n    }\n    userMove(t, e) {\n      this.isUserTouch || e || !this.setting.showPageCorners ? this.isUserTouch && h.GetDistanceBetweenTwoPoint(this.mousePosition, t) > 5 && (this.isUserMove = !0, this.flipController.fold(t)) : this.flipController.showCorner(t);\n    }\n    userStop(t, e = !1) {\n      this.isUserTouch && (this.isUserTouch = !1, e || (this.isUserMove ? this.flipController.stopMove() : this.flipController.flip(t)));\n    }\n  }, Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n});","map":{"version":3,"names":["t","e","exports","module","define","amd","self","St","constructor","state","angle","area","position","x","y","hardAngle","hardDrawingAngle","createdDensity","nowDrawingDensity","render","setDensity","setDrawingDensity","setPosition","setAngle","setArea","setHardDrawingAngle","setHardAngle","setOrientation","orientation","getDrawingDensity","getDensity","getHardAngle","i","image","isLoad","loadingAngle","Image","src","draw","getContext","convertToGlobal","s","getRect","pageWidth","n","height","save","translate","beginPath","lineTo","rotate","clip","drawImage","drawLoader","restore","simpleDraw","h","left","r","top","strokeStyle","fillStyle","lineWidth","rect","stroke","fill","arc","Math","PI","closePath","load","onload","newTemporaryCopy","getTemporaryCopy","hideTemporaryCopy","pages","currentPageIndex","currentSpreadIndex","landscapeSpread","portraitSpread","app","isShowCover","getSettings","showCover","destroy","createSpread","length","push","getSpread","getOrientation","getSpreadIndexByPage","getPageCount","getPages","getPage","Error","nextBy","indexOf","prevBy","getFlippingPage","getBottomPage","showNext","showSpread","showPrev","getCurrentPageIndex","show","getCurrentSpreadIndex","setCurrentSpreadIndex","setLeftPage","setRightPage","updatePageIndex","imagesHref","GetDistanceBetweenTwoPoint","sqrt","pow","GetSegmentLength","GetAngleBetweenTwoLine","acos","PointInRect","width","GetRotatedPoint","cos","sin","LimitPointToCircle","o","a","g","GetIntersectBetweenTwoSegment","GetIntersectBeetwenTwoLine","l","d","isFinite","abs","GetCordsFromTwoPoint","max","copiedElement","temporaryCopy","element","classList","add","cloneNode","parentElement","appendChild","remove","style","zIndex","drawHard","drawSoft","cssText","getDirection","slice","isSafari","startZIndex","getElement","pagesElement","dataset","density","direction","corner","topIntersectPoint","sideIntersectPoint","bottomIntersectPoint","parseInt","pageHeight","calc","calcAngleAndPosition","calculateIntersectPoint","getFlippingClipArea","topLeft","bottomLeft","getBottomClipArea","getAngle","getPosition","getActiveCorner","topRight","getFlippingProgress","getCorner","getBottomPagePosition","getShadowStartPoint","getShadowAngle","getSegmentToShadowLine","updateAngleAndGeometry","checkPositionAtCenterLine","calculateAngle","getPageRect","getRectFromBasePoint","getRotatedPoint","bottomRight","flippingPage","bottomPage","fold","setState","start","do","convertToPage","flip","disableFlipByClick","isPointOnCorners","finishAnimation","getBoundsRect","animateFlippingTo","reset","convertToBook","getDirectionByPoint","checkDirection","getPageCollection","setDirection","toString","setPageRect","setBottomPage","setFlippingPage","setShadowData","flipToPage","flipNext","flipPrev","stopMove","showCorner","checkState","getAnimationDuration","startAnimation","turnToPrevPage","turnToNextPage","clearShadow","getCalculation","getState","updateState","flippingTime","leftPage","rightPage","shadow","animation","pageRect","boundsRect","timer","safari","setting","RegExp","exec","window","navigator","userAgent","round","startedAt","durationFrame","frames","onAnimateEnd","drawFrame","update","requestAnimationFrame","duration","calculateBoundsRect","updateOrientation","getBlockWidth","getBlockHeight","size","minWidth","usePortrait","maxWidth","drawShadow","maxShadowOpacity","pos","opacity","progress","getUI","getDistElement","offsetWidth","offsetHeight","convertRectToGlobal","canvas","ctx","reload","clear","drawBookShadow","drawOuterShadow","drawInnerShadow","createLinearGradient","addColorStop","fillRect","moveTo","p","touchPoint","swipeTimeout","onResize","onMouseDown","checkTarget","target","getMousePos","clientX","clientY","startUserTouch","preventDefault","onTouchStart","changedTouches","point","time","Date","now","setTimeout","mobileScrollSupport","onMouseUp","userStop","onMouseMove","userMove","onTouchMove","cancelable","onTouchEnd","swipeDistance","getRender","insertAdjacentHTML","wrapper","querySelector","minHeight","autoSize","display","addEventListener","useMouseEvents","removeHandlers","distElement","getWrapper","setOrientationStyle","paddingBottom","removeEventListener","setHandlers","passive","getBoundingClientRect","clickEventForward","includes","tagName","toLowerCase","c","items","updateItems","innerHTML","u","querySelectorAll","resizeCanvas","getComputedStyle","getPropertyValue","getCanvas","w","outerShadow","innerShadow","hardShadow","hardInnerShadow","createShadows","drawHardInnerShadow","drawHardOuterShadow","drawLeftPage","drawRightPage","drawBottomPage","_default","startPage","maxHeight","showPageCorners","Object","assign","insertAt","document","head","getElementsByTagName","createElement","type","firstChild","insertBefore","styleSheet","createTextNode","PageFlip","events","Map","on","has","get","set","off","delete","trigger","data","object","isUserTouch","isUserMove","block","ui","loadFromImages","flipController","page","mode","loadFromHTML","updateFromImages","updateFromHtml","turnToPage","getFlipController","mousePosition","defineProperty","value"],"sources":["C:/Users/Syahrul/PKM/test-react/portfolio-alpha/node_modules/page-flip/dist/js/page-flip.browser.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e((t=t||self).St={})}(this,(function(t){\"use strict\";class e{constructor(t,e){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=e,this.nowDrawingDensity=this.createdDensity,this.render=t}setDensity(t){this.createdDensity=t,this.nowDrawingDensity=t}setDrawingDensity(t){this.nowDrawingDensity=t}setPosition(t){this.state.position=t}setAngle(t){this.state.angle=t}setArea(t){this.state.area=t}setHardDrawingAngle(t){this.state.hardDrawingAngle=t}setHardAngle(t){this.state.hardAngle=t,this.state.hardDrawingAngle=t}setOrientation(t){this.orientation=t}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends e{constructor(t,e,i){super(t,i),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=e}draw(t){const e=this.render.getContext(),i=this.render.convertToGlobal(this.state.position),s=this.render.getRect().pageWidth,n=this.render.getRect().height;e.save(),e.translate(i.x,i.y),e.beginPath();for(let t of this.state.area)null!==t&&(t=this.render.convertToGlobal(t),e.lineTo(t.x-i.x,t.y-i.y));e.rotate(this.state.angle),e.clip(),this.isLoad?e.drawImage(this.image,0,0,s,n):this.drawLoader(e,{x:0,y:0},s,n),e.restore()}simpleDraw(t){const e=this.render.getRect(),i=this.render.getContext(),s=e.pageWidth,n=e.height,h=1===t?e.left+e.pageWidth:e.left,r=e.top;this.isLoad?i.drawImage(this.image,h,r,s,n):this.drawLoader(i,{x:h,y:r},s,n)}drawLoader(t,e,i,s){t.beginPath(),t.strokeStyle=\"rgb(200, 200, 200)\",t.fillStyle=\"rgb(255, 255, 255)\",t.lineWidth=1,t.rect(e.x+1,e.y+1,i-1,s-1),t.stroke(),t.fill();const n={x:e.x+i/2,y:e.y+s/2};t.beginPath(),t.lineWidth=10,t.arc(n.x,n.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),t.stroke(),t.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class s{constructor(t,e){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=e,this.app=t,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let t=0;t<this.pages.length;t++)this.portraitSpread.push([t]);let t=0;this.isShowCover&&(this.pages[0].setDensity(\"hard\"),this.landscapeSpread.push([t]),t++);for(let e=t;e<this.pages.length;e+=2)e<this.pages.length-1?this.landscapeSpread.push([e,e+1]):(this.landscapeSpread.push([e]),this.pages[e].setDensity(\"hard\"))}getSpread(){return\"landscape\"===this.render.getOrientation()?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(t){const e=this.getSpread();for(let i=0;i<e.length;i++)if(t===e[i][0]||t===e[i][1])return i;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(t){if(t>=0&&t<this.pages.length)return this.pages[t];throw new Error(\"Invalid page number\")}nextBy(t){const e=this.pages.indexOf(t);return e<this.pages.length-1?this.pages[e+1]:null}prevBy(t){const e=this.pages.indexOf(t);return e>0?this.pages[e-1]:null}getFlippingPage(t){const e=this.currentSpreadIndex;if(\"portrait\"===this.render.getOrientation())return 0===t?this.pages[e].newTemporaryCopy():this.pages[e-1];{const i=0===t?this.getSpread()[e+1]:this.getSpread()[e-1];return 1===i.length||0===t?this.pages[i[0]]:this.pages[i[1]]}}getBottomPage(t){const e=this.currentSpreadIndex;if(\"portrait\"===this.render.getOrientation())return 0===t?this.pages[e+1]:this.pages[e-1];{const i=0===t?this.getSpread()[e+1]:this.getSpread()[e-1];return 1===i.length?this.pages[i[0]]:0===t?this.pages[i[1]]:this.pages[i[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(t=null){if(null===t&&(t=this.currentPageIndex),t<0||t>=this.pages.length)return;const e=this.getSpreadIndexByPage(t);null!==e&&(this.currentSpreadIndex=e,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(t){if(!(t>=0&&t<this.getSpread().length))throw new Error(\"Invalid page\");this.currentSpreadIndex=t}showSpread(){const t=this.getSpread()[this.currentSpreadIndex];2===t.length?(this.render.setLeftPage(this.pages[t[0]]),this.render.setRightPage(this.pages[t[1]])):\"landscape\"===this.render.getOrientation()&&t[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[t[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[t[0]])),this.currentPageIndex=t[0],this.app.updatePageIndex(this.currentPageIndex)}}class n extends s{constructor(t,e,i){super(t,e),this.imagesHref=i}load(){for(const t of this.imagesHref){const e=new i(this.render,t,\"soft\");e.load(),this.pages.push(e)}this.createSpread()}}class h{static GetDistanceBetweenTwoPoint(t,e){return null===t||null===e?1/0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}static GetSegmentLength(t){return h.GetDistanceBetweenTwoPoint(t[0],t[1])}static GetAngleBetweenTwoLine(t,e){const i=t[0].y-t[1].y,s=e[0].y-e[1].y,n=t[1].x-t[0].x,h=e[1].x-e[0].x;return Math.acos((i*s+n*h)/(Math.sqrt(i*i+n*n)*Math.sqrt(s*s+h*h)))}static PointInRect(t,e){return null===e?null:e.x>=t.left&&e.x<=t.width+t.left&&e.y>=t.top&&e.y<=t.top+t.height?e:null}static GetRotatedPoint(t,e,i){return{x:t.x*Math.cos(i)+t.y*Math.sin(i)+e.x,y:t.y*Math.cos(i)-t.x*Math.sin(i)+e.y}}static LimitPointToCircle(t,e,i){if(h.GetDistanceBetweenTwoPoint(t,i)<=e)return i;const s=t.x,n=t.y,r=i.x,o=i.y;let a=Math.sqrt(Math.pow(e,2)*Math.pow(s-r,2)/(Math.pow(s-r,2)+Math.pow(n-o,2)))+s;i.x<0&&(a*=-1);let g=(a-s)*(n-o)/(s-r)+n;return s-r+n===0&&(g=e),{x:a,y:g}}static GetIntersectBetweenTwoSegment(t,e,i){return h.PointInRect(t,h.GetIntersectBeetwenTwoLine(e,i))}static GetIntersectBeetwenTwoLine(t,e){const i=t[0].y-t[1].y,s=e[0].y-e[1].y,n=t[1].x-t[0].x,h=e[1].x-e[0].x,r=t[0].x*t[1].y-t[1].x*t[0].y,o=e[0].x*e[1].y-e[1].x*e[0].y,a=i*o-s*r,g=n*o-h*r,l=-(r*h-o*n)/(i*h-s*n),d=-(i*o-s*r)/(i*h-s*n);if(isFinite(l)&&isFinite(d))return{x:l,y:d};if(Math.abs(a-g)<.1)throw new Error(\"Segment included\");return null}static GetCordsFromTwoPoint(t,e){const i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y),n=Math.max(i,s),h=[t];function r(t,e,i,s,n){return e>t?t+n*(i/s):e<t?t-n*(i/s):t}for(let o=1;o<=n;o+=1)h.push({x:r(t.x,e.x,i,n,o),y:r(t.y,e.y,s,n,o)});return h}}class r extends e{constructor(t,e,i){super(t,i),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=e,this.element.classList.add(\"stf__item\"),this.element.classList.add(\"--\"+i)}newTemporaryCopy(){return\"hard\"===this.nowDrawingDensity?this:(null===this.temporaryCopy&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new r(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){null!==this.temporaryCopy&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(t){const e=t||this.nowDrawingDensity,i=this.render.convertToGlobal(this.state.position),s=this.render.getRect().pageWidth,n=this.render.getRect().height;this.element.classList.remove(\"--simple\");const h=`\\n            display: block;\\n            z-index: ${this.element.style.zIndex};\\n            left: 0;\\n            top: 0;\\n            width: ${s}px;\\n            height: ${n}px;\\n        `;\"hard\"===e?this.drawHard(h):this.drawSoft(i,h)}drawHard(t=\"\"){const e=this.render.getRect().left+this.render.getRect().width/2,i=this.state.hardDrawingAngle,s=t+\"\\n                backface-visibility: hidden;\\n                -webkit-backface-visibility: hidden;\\n                clip-path: none;\\n                -webkit-clip-path: none;\\n            \"+(0===this.orientation?`transform-origin: ${this.render.getRect().pageWidth}px 0; \\n                   transform: translate3d(0, 0, 0) rotateY(${i}deg);`:`transform-origin: 0 0; \\n                   transform: translate3d(${e}px, 0, 0) rotateY(${i}deg);`);this.element.style.cssText=s}drawSoft(t,e=\"\"){let i=\"polygon( \";for(const t of this.state.area)if(null!==t){let e=1===this.render.getDirection()?{x:-t.x+this.state.position.x,y:t.y-this.state.position.y}:{x:t.x-this.state.position.x,y:t.y-this.state.position.y};e=h.GetRotatedPoint(e,{x:0,y:0},this.state.angle),i+=e.x+\"px \"+e.y+\"px, \"}i=i.slice(0,-2),i+=\")\";const s=e+`transform-origin: 0 0; clip-path: ${i}; -webkit-clip-path: ${i};`+(this.render.isSafari()&&0===this.state.angle?`transform: translate(${t.x}px, ${t.y}px);`:`transform: translate3d(${t.x}px, ${t.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=s}simpleDraw(t){const e=this.render.getRect(),i=e.pageWidth,s=e.height,n=1===t?e.left+e.pageWidth:e.left,h=e.top;this.element.classList.add(\"--simple\"),this.element.style.cssText=`\\n            position: absolute; \\n            display: block; \\n            height: ${s}px; \\n            left: ${n}px; \\n            top: ${h}px; \\n            width: ${i}px; \\n            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(t){super.setOrientation(t),this.element.classList.remove(\"--left\",\"--right\"),this.element.classList.add(1===t?\"--right\":\"--left\")}setDrawingDensity(t){this.element.classList.remove(\"--soft\",\"--hard\"),this.element.classList.add(\"--\"+t),super.setDrawingDensity(t)}}class o extends s{constructor(t,e,i,s){super(t,e),this.element=i,this.pagesElement=s}load(){for(const t of this.pagesElement){const e=new r(this.render,t,\"hard\"===t.dataset.density?\"hard\":\"soft\");e.load(),this.pages.push(e)}this.createSpread()}}class a{constructor(t,e,i,s){this.direction=t,this.corner=e,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(i,10),this.pageHeight=parseInt(s,10)}calc(t){try{return this.position=this.calcAngleAndPosition(t),this.calculateIntersectPoint(this.position),!0}catch(t){return!1}}getFlippingClipArea(){const t=[];let e=!1;return t.push(this.rect.topLeft),t.push(this.topIntersectPoint),null===this.sideIntersectPoint?e=!0:(t.push(this.sideIntersectPoint),null===this.bottomIntersectPoint&&(e=!1)),t.push(this.bottomIntersectPoint),(e||\"bottom\"===this.corner)&&t.push(this.rect.bottomLeft),t}getBottomClipArea(){const t=[];return t.push(this.topIntersectPoint),\"top\"===this.corner?t.push({x:this.pageWidth,y:0}):(null!==this.topIntersectPoint&&t.push({x:this.pageWidth,y:0}),t.push({x:this.pageWidth,y:this.pageHeight})),null!==this.sideIntersectPoint?h.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&t.push(this.sideIntersectPoint):\"top\"===this.corner&&t.push({x:this.pageWidth,y:this.pageHeight}),t.push(this.bottomIntersectPoint),t.push(this.topIntersectPoint),t}getAngle(){return 0===this.direction?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return 0===this.direction?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return 1===this.direction?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return\"top\"===this.corner?this.topIntersectPoint:null!==this.sideIntersectPoint?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const t=h.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return 0===this.direction?t:Math.PI-t}calcAngleAndPosition(t){let e=t;if(this.updateAngleAndGeometry(e),e=\"top\"===this.corner?this.checkPositionAtCenterLine(e,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(e,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(e.x-this.pageWidth)<1&&Math.abs(e.y)<1)throw new Error(\"Point is too small\");return e}updateAngleAndGeometry(t){this.angle=this.calculateAngle(t),this.rect=this.getPageRect(t)}calculateAngle(t){const e=this.pageWidth-t.x+1,i=\"bottom\"===this.corner?this.pageHeight-t.y:t.y;let s=2*Math.acos(e/Math.sqrt(i*i+e*e));i<0&&(s=-s);const n=Math.PI-s;if(!isFinite(s)||n>=0&&n<.003)throw new Error(\"The G point is too small\");return\"bottom\"===this.corner&&(s=-s),s}getPageRect(t){return\"top\"===this.corner?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],t):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],t)}getRectFromBasePoint(t,e){return{topLeft:this.getRotatedPoint(t[0],e),topRight:this.getRotatedPoint(t[1],e),bottomLeft:this.getRotatedPoint(t[2],e),bottomRight:this.getRotatedPoint(t[3],e)}}getRotatedPoint(t,e){return{x:t.x*Math.cos(this.angle)+t.y*Math.sin(this.angle)+e.x,y:t.y*Math.cos(this.angle)-t.x*Math.sin(this.angle)+e.y}}calculateIntersectPoint(t){const e={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};\"top\"===this.corner?(this.topIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[t,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[t,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[t,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(t,e,i){let s=t;const n=h.LimitPointToCircle(e,this.pageWidth,s);s!==n&&(s=n,this.updateAngleAndGeometry(s));const r=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let o=this.rect.bottomRight,a=this.rect.topLeft;if(\"bottom\"===this.corner&&(o=this.rect.topRight,a=this.rect.bottomLeft),o.x<=0){const t=h.LimitPointToCircle(i,r,a);t!==s&&(s=t,this.updateAngleAndGeometry(s))}return s}getSegmentToShadowLine(){const t=this.getShadowStartPoint();return[t,t!==this.sideIntersectPoint&&null!==this.sideIntersectPoint?this.sideIntersectPoint:this.bottomIntersectPoint]}}class g{constructor(t,e){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state=\"read\",this.render=t,this.app=e}fold(t){this.setState(\"user_fold\"),null===this.calc&&this.start(t),this.do(this.render.convertToPage(t))}flip(t){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(t))return;if(null!==this.calc&&this.render.finishAnimation(),!this.start(t))return;const e=this.getBoundsRect();this.setState(\"flipping\");const i=e.height/10,s=\"bottom\"===this.calc.getCorner()?e.height-i:i,n=\"bottom\"===this.calc.getCorner()?e.height:0;this.calc.calc({x:e.pageWidth-i,y:s}),this.animateFlippingTo({x:e.pageWidth-i,y:s},{x:-e.pageWidth,y:n},!0)}start(t){this.reset();const e=this.render.convertToBook(t),i=this.getBoundsRect(),s=this.getDirectionByPoint(e),n=e.y>=i.height/2?\"bottom\":\"top\";if(!this.checkDirection(s))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(s),this.bottomPage=this.app.getPageCollection().getBottomPage(s),\"landscape\"===this.render.getOrientation())if(1===s){const t=this.app.getPageCollection().nextBy(this.flippingPage);null!==t&&this.flippingPage.getDensity()!==t.getDensity()&&(this.flippingPage.setDrawingDensity(\"hard\"),t.setDrawingDensity(\"hard\"))}else{const t=this.app.getPageCollection().prevBy(this.flippingPage);null!==t&&this.flippingPage.getDensity()!==t.getDensity()&&(this.flippingPage.setDrawingDensity(\"hard\"),t.setDrawingDensity(\"hard\"))}return this.render.setDirection(s),this.calc=new a(s,n,i.pageWidth.toString(10),i.height.toString(10)),!0}catch(t){return!1}}do(t){if(null!==this.calc&&this.calc.calc(t)){const t=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),0===this.calc.getDirection()?this.flippingPage.setHardAngle(90*(200-2*t)/100):this.flippingPage.setHardAngle(-90*(200-2*t)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),t,this.calc.getDirection())}}flipToPage(t,e){const i=this.app.getPageCollection().getCurrentSpreadIndex(),s=this.app.getPageCollection().getSpreadIndexByPage(t);try{s>i&&(this.app.getPageCollection().setCurrentSpreadIndex(s-1),this.flipNext(e)),s<i&&(this.app.getPageCollection().setCurrentSpreadIndex(s+1),this.flipPrev(e))}catch(t){}}flipNext(t){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:\"top\"===t?1:this.render.getRect().height-2})}flipPrev(t){this.flip({x:10,y:\"top\"===t?1:this.render.getRect().height-2})}stopMove(){if(null===this.calc)return;const t=this.calc.getPosition(),e=this.getBoundsRect(),i=\"bottom\"===this.calc.getCorner()?e.height:0;t.x<=0?this.animateFlippingTo(t,{x:-e.pageWidth,y:i},!0):this.animateFlippingTo(t,{x:e.pageWidth,y:i},!1)}showCorner(t){if(!this.checkState(\"read\",\"fold_corner\"))return;const e=this.getBoundsRect(),i=e.pageWidth;if(this.isPointOnCorners(t))if(null===this.calc){if(!this.start(t))return;this.setState(\"fold_corner\"),this.calc.calc({x:i-1,y:1});const s=50,n=\"bottom\"===this.calc.getCorner()?e.height-1:1,h=\"bottom\"===this.calc.getCorner()?e.height-s:s;this.animateFlippingTo({x:i-1,y:n},{x:i-s,y:h},!1,!1)}else this.do(this.render.convertToPage(t));else this.setState(\"read\"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(t,e,i,s=!0){const n=h.GetCordsFromTwoPoint(t,e),r=[];for(const t of n)r.push(()=>this.do(t));const o=this.getAnimationDuration(n.length);this.render.startAnimation(r,o,()=>{this.calc&&(i&&(1===this.calc.getDirection()?this.app.turnToPrevPage():this.app.turnToNextPage()),s&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState(\"read\"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(t){this.state!==t&&(this.app.updateState(t),this.state=t)}getDirectionByPoint(t){const e=this.getBoundsRect();if(\"portrait\"===this.render.getOrientation()){if(t.x-e.pageWidth<=e.width/5)return 1}else if(t.x<e.width/2)return 1;return 0}getAnimationDuration(t){const e=this.app.getSettings().flippingTime;return t>=1e3?e:t/1e3*e}checkDirection(t){return 0===t?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...t){for(const e of t)if(this.state===e)return!0;return!1}isPointOnCorners(t){const e=this.getBoundsRect(),i=e.pageWidth,s=Math.sqrt(Math.pow(i,2)+Math.pow(e.height,2))/5,n=this.render.convertToBook(t);return n.x>0&&n.y>0&&n.x<e.width&&n.y<e.height&&(n.x<s||n.x>e.width-s)&&(n.y<s||n.y>e.height-s)}}class l{constructor(t,e){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=e,this.app=t;const i=new RegExp(\"Version\\\\/[\\\\d\\\\.]+.*Safari/\");this.safari=null!==i.exec(window.navigator.userAgent)}render(t){if(null!==this.animation){const e=Math.round((t-this.animation.startedAt)/this.animation.durationFrame);e<this.animation.frames.length?this.animation.frames[e]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=t,this.drawFrame()}start(){this.update();const t=e=>{this.render(e),requestAnimationFrame(t)};requestAnimationFrame(t)}startAnimation(t,e,i){this.finishAnimation(),this.animation={frames:t,duration:e,durationFrame:e/t.length,onAnimateEnd:i,startedAt:this.timer}}finishAnimation(){null!==this.animation&&(this.animation.frames[this.animation.frames.length-1](),null!==this.animation.onAnimateEnd&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const t=this.calculateBoundsRect();this.orientation!==t&&(this.orientation=t,this.app.updateOrientation(t))}calculateBoundsRect(){let t=\"landscape\";const e=this.getBlockWidth(),i=e/2,s=this.getBlockHeight()/2,n=this.setting.width/this.setting.height;let h=this.setting.width,r=this.setting.height,o=i-h;return\"stretch\"===this.setting.size?(e<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(t=\"portrait\"),h=\"portrait\"===t?this.getBlockWidth():this.getBlockWidth()/2,h>this.setting.maxWidth&&(h=this.setting.maxWidth),r=h/n,r>this.getBlockHeight()&&(r=this.getBlockHeight(),h=r*n),o=\"portrait\"===t?i-h/2-h:i-h):e<2*h&&this.app.getSettings().usePortrait&&(t=\"portrait\",o=i-h/2-h),this.boundsRect={left:o,top:s-r/2,width:2*h,height:r,pageWidth:h},t}setShadowData(t,e,i,s){if(!this.app.getSettings().drawShadow)return;const n=100*this.getSettings().maxShadowOpacity;this.shadow={pos:t,angle:e,width:3*this.getRect().pageWidth/4*i/100,opacity:(100-i)*n/100/100,direction:s,progress:2*i}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return null===this.boundsRect&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(t){this.pageRect=t}setDirection(t){this.direction=t}setRightPage(t){null!==t&&t.setOrientation(1),this.rightPage=t}setLeftPage(t){null!==t&&t.setOrientation(0),this.leftPage=t}setBottomPage(t){null!==t&&t.setOrientation(1===this.direction?0:1),this.bottomPage=t}setFlippingPage(t){null!==t&&t.setOrientation(0===this.direction&&\"portrait\"!==this.orientation?0:1),this.flippingPage=t}convertToBook(t){const e=this.getRect();return{x:t.x-e.left,y:t.y-e.top}}isSafari(){return this.safari}convertToPage(t,e){e||(e=this.direction);const i=this.getRect();return{x:0===e?t.x-i.left-i.width/2:i.width/2-t.x+i.left,y:t.y-i.top}}convertToGlobal(t,e){if(e||(e=this.direction),null==t)return null;const i=this.getRect();return{x:0===e?t.x+i.left+i.width/2:i.width/2-t.x+i.left,y:t.y+i.top}}convertRectToGlobal(t,e){return e||(e=this.direction),{topLeft:this.convertToGlobal(t.topLeft,e),topRight:this.convertToGlobal(t.topRight,e),bottomLeft:this.convertToGlobal(t.bottomLeft,e),bottomRight:this.convertToGlobal(t.bottomRight,e)}}}class d extends l{constructor(t,e,i){super(t,e),this.canvas=i,this.ctx=i.getContext(\"2d\")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),\"portrait\"!==this.orientation&&null!=this.leftPage&&this.leftPage.simpleDraw(0),null!=this.rightPage&&this.rightPage.simpleDraw(1),null!=this.bottomPage&&this.bottomPage.draw(),this.drawBookShadow(),null!=this.flippingPage&&this.flippingPage.draw(),null!=this.shadow&&(this.drawOuterShadow(),this.drawInnerShadow());const t=this.getRect();\"portrait\"===this.orientation&&(this.ctx.beginPath(),this.ctx.rect(t.left+t.pageWidth,t.top,t.width,t.height),this.ctx.clip())}drawBookShadow(){const t=this.getRect();this.ctx.save(),this.ctx.beginPath();const e=t.width/20;this.ctx.rect(t.left,t.top,t.width,t.height);const i={x:t.left+t.width/2-e/2,y:0};this.ctx.translate(i.x,i.y);const s=this.ctx.createLinearGradient(0,0,e,0);s.addColorStop(0,\"rgba(0, 0, 0, 0)\"),s.addColorStop(.4,\"rgba(0, 0, 0, 0.2)\"),s.addColorStop(.49,\"rgba(0, 0, 0, 0.1)\"),s.addColorStop(.5,\"rgba(0, 0, 0, 0.5)\"),s.addColorStop(.51,\"rgba(0, 0, 0, 0.4)\"),s.addColorStop(1,\"rgba(0, 0, 0, 0)\"),this.ctx.clip(),this.ctx.fillStyle=s,this.ctx.fillRect(0,0,e,2*t.height),this.ctx.restore()}drawOuterShadow(){const t=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t.left,t.top,t.width,t.height);const e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(e.x,e.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const i=this.ctx.createLinearGradient(0,0,this.shadow.width,0);0===this.shadow.direction?(this.ctx.translate(0,-100),i.addColorStop(0,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\"),i.addColorStop(1,\"rgba(0, 0, 0, 0)\")):(this.ctx.translate(-this.shadow.width,-100),i.addColorStop(0,\"rgba(0, 0, 0, 0)\"),i.addColorStop(1,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\")),this.ctx.clip(),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.shadow.width,2*t.height),this.ctx.restore()}drawInnerShadow(){const t=this.getRect();this.ctx.save(),this.ctx.beginPath();const e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),i=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(i.topLeft.x,i.topLeft.y),this.ctx.lineTo(i.topRight.x,i.topRight.y),this.ctx.lineTo(i.bottomRight.x,i.bottomRight.y),this.ctx.lineTo(i.bottomLeft.x,i.bottomLeft.y),this.ctx.translate(e.x,e.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const s=3*this.shadow.width/4,n=this.ctx.createLinearGradient(0,0,s,0);0===this.shadow.direction?(this.ctx.translate(-s,-100),n.addColorStop(1,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\"),n.addColorStop(.9,\"rgba(0, 0, 0, 0.05)\"),n.addColorStop(.7,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\"),n.addColorStop(0,\"rgba(0, 0, 0, 0)\")):(this.ctx.translate(0,-100),n.addColorStop(0,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\"),n.addColorStop(.1,\"rgba(0, 0, 0, 0.05)\"),n.addColorStop(.3,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\"),n.addColorStop(1,\"rgba(0, 0, 0, 0)\")),this.ctx.clip(),this.ctx.fillStyle=n,this.ctx.fillRect(0,0,s,2*t.height),this.ctx.restore()}clear(){this.ctx.fillStyle=\"white\",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class p{constructor(t,e,i){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=t=>{if(this.checkTarget(t.target)){const e=this.getMousePos(t.clientX,t.clientY);this.app.startUserTouch(e),t.preventDefault()}},this.onTouchStart=t=>{if(this.checkTarget(t.target)&&t.changedTouches.length>0){const e=t.changedTouches[0],i=this.getMousePos(e.clientX,e.clientY);this.touchPoint={point:i,time:Date.now()},setTimeout(()=>{null!==this.touchPoint&&this.app.startUserTouch(i)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||t.preventDefault()}},this.onMouseUp=t=>{const e=this.getMousePos(t.clientX,t.clientY);this.app.userStop(e)},this.onMouseMove=t=>{const e=this.getMousePos(t.clientX,t.clientY);this.app.userMove(e,!1)},this.onTouchMove=t=>{if(t.changedTouches.length>0){const e=t.changedTouches[0],i=this.getMousePos(e.clientX,e.clientY);this.app.getSettings().mobileScrollSupport?(null!==this.touchPoint&&(Math.abs(this.touchPoint.point.x-i.x)>10||\"read\"!==this.app.getState())&&t.cancelable&&this.app.userMove(i,!0),\"read\"!==this.app.getState()&&t.preventDefault()):this.app.userMove(i,!0)}},this.onTouchEnd=t=>{if(t.changedTouches.length>0){const e=t.changedTouches[0],i=this.getMousePos(e.clientX,e.clientY);let s=!1;if(null!==this.touchPoint){const t=i.x-this.touchPoint.point.x,e=Math.abs(i.y-this.touchPoint.point.y);Math.abs(t)>this.swipeDistance&&e<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(t>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?\"top\":\"bottom\"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?\"top\":\"bottom\"),s=!0),this.touchPoint=null}this.app.userStop(i,s)}},this.parentElement=t,t.classList.add(\"stf__parent\"),t.insertAdjacentHTML(\"afterbegin\",'<div class=\"stf__wrapper\"></div>'),this.wrapper=t.querySelector(\".stf__wrapper\"),this.app=e;const s=this.app.getSettings().usePortrait?1:2;t.style.minWidth=i.minWidth*s+\"px\",t.style.minHeight=i.minHeight+\"px\",\"fixed\"===i.size&&(t.style.minWidth=i.width*s+\"px\",t.style.minHeight=i.height+\"px\"),i.autoSize&&(t.style.width=\"100%\",t.style.maxWidth=2*i.maxWidth+\"px\"),t.style.display=\"block\",window.addEventListener(\"resize\",this.onResize,!1),this.swipeDistance=i.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(t){this.wrapper.classList.remove(\"--portrait\",\"--landscape\"),\"portrait\"===t?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+\"%\"),this.wrapper.classList.add(\"--portrait\")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+\"%\"),this.wrapper.classList.add(\"--landscape\")),this.update()}removeHandlers(){window.removeEventListener(\"resize\",this.onResize),this.distElement.removeEventListener(\"mousedown\",this.onMouseDown),this.distElement.removeEventListener(\"touchstart\",this.onTouchStart),window.removeEventListener(\"mousemove\",this.onMouseMove),window.removeEventListener(\"touchmove\",this.onTouchMove),window.removeEventListener(\"mouseup\",this.onMouseUp),window.removeEventListener(\"touchend\",this.onTouchEnd)}setHandlers(){window.addEventListener(\"resize\",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener(\"mousedown\",this.onMouseDown),this.distElement.addEventListener(\"touchstart\",this.onTouchStart),window.addEventListener(\"mousemove\",this.onMouseMove),window.addEventListener(\"touchmove\",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener(\"mouseup\",this.onMouseUp),window.addEventListener(\"touchend\",this.onTouchEnd))}getMousePos(t,e){const i=this.distElement.getBoundingClientRect();return{x:t-i.left,y:e-i.top}}checkTarget(t){return!this.app.getSettings().clickEventForward||![\"a\",\"button\"].includes(t.tagName.toLowerCase())}}class c extends p{constructor(t,e,i,s){super(t,e,i),this.wrapper.insertAdjacentHTML(\"afterbegin\",'<div class=\"stf__block\"></div>'),this.distElement=t.querySelector(\".stf__block\"),this.items=s;for(const t of s)this.distElement.appendChild(t);this.setHandlers()}clear(){for(const t of this.items)this.parentElement.appendChild(t)}updateItems(t){this.removeHandlers(),this.distElement.innerHTML=\"\";for(const e of t)this.distElement.appendChild(e);this.items=t,this.setHandlers()}update(){this.app.getRender().update()}}class u extends p{constructor(t,e,i){super(t,e,i),this.wrapper.innerHTML='<canvas class=\"stf__canvas\"></canvas>',this.canvas=t.querySelectorAll(\"canvas\")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const t=getComputedStyle(this.canvas),e=parseInt(t.getPropertyValue(\"width\"),10),i=parseInt(t.getPropertyValue(\"height\"),10);this.canvas.width=e,this.canvas.height=i}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class w extends l{constructor(t,e,i){super(t,e),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=i,this.createShadows()}createShadows(){this.element.insertAdjacentHTML(\"beforeend\",'<div class=\"stf__outerShadow\"></div>\\n             <div class=\"stf__innerShadow\"></div>\\n             <div class=\"stf__hardShadow\"></div>\\n             <div class=\"stf__hardInnerShadow\"></div>'),this.outerShadow=this.element.querySelector(\".stf__outerShadow\"),this.innerShadow=this.element.querySelector(\".stf__innerShadow\"),this.hardShadow=this.element.querySelector(\".stf__hardShadow\"),this.hardInnerShadow=this.element.querySelector(\".stf__hardInnerShadow\")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText=\"display: none\",this.innerShadow.style.cssText=\"display: none\",this.hardShadow.style.cssText=\"display: none\",this.hardInnerShadow.style.cssText=\"display: none\"}reload(){this.element.querySelector(\".stf__outerShadow\")||this.createShadows()}drawHardInnerShadow(){const t=this.getRect(),e=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let i=(100-e)*(2.5*t.pageWidth)/100+20;i>t.pageWidth&&(i=t.pageWidth);let s=`\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex+5).toString(10)};\\n            width: ${i}px;\\n            height: ${t.height}px;\\n            background: linear-gradient(to right,\\n                rgba(0, 0, 0, ${this.shadow.opacity*e/100}) 5%,\\n                rgba(0, 0, 0, 0) 100%);\\n            left: ${t.left+t.width/2}px;\\n            transform-origin: 0 0;\\n        `;s+=0===this.getDirection()&&this.shadow.progress>100||1===this.getDirection()&&this.shadow.progress<=100?\"transform: translate3d(0, 0, 0);\":\"transform: translate3d(0, 0, 0) rotateY(180deg);\",this.hardInnerShadow.style.cssText=s}drawHardOuterShadow(){const t=this.getRect();let e=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*t.pageWidth)/100+20;e>t.pageWidth&&(e=t.pageWidth);let i=`\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex+4).toString(10)};\\n            width: ${e}px;\\n            height: ${t.height}px;\\n            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);\\n            left: ${t.left+t.width/2}px;\\n            transform-origin: 0 0;\\n        `;i+=0===this.getDirection()&&this.shadow.progress>100||1===this.getDirection()&&this.shadow.progress<=100?\"transform: translate3d(0, 0, 0) rotateY(180deg);\":\"transform: translate3d(0, 0, 0);\",this.hardShadow.style.cssText=i}drawInnerShadow(){const t=this.getRect(),e=3*this.shadow.width/4,i=0===this.getDirection()?e:0,s=0===this.getDirection()?\"to left\":\"to right\",n=this.convertToGlobal(this.shadow.pos),r=this.shadow.angle+3*Math.PI/2,o=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let a=\"polygon( \";for(const t of o){let e=1===this.getDirection()?{x:-t.x+this.shadow.pos.x,y:t.y-this.shadow.pos.y}:{x:t.x-this.shadow.pos.x,y:t.y-this.shadow.pos.y};e=h.GetRotatedPoint(e,{x:i,y:100},r),a+=e.x+\"px \"+e.y+\"px, \"}a=a.slice(0,-2),a+=\")\";const g=`\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex+10).toString(10)};\\n            width: ${e}px;\\n            height: ${2*t.height}px;\\n            background: linear-gradient(${s},\\n                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,\\n                rgba(0, 0, 0, 0.05) 15%,\\n                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,\\n                rgba(0, 0, 0, 0) 100%);\\n            transform-origin: ${i}px 100px;\\n            transform: translate3d(${n.x-i}px, ${n.y-100}px, 0) rotate(${r}rad);\\n            clip-path: ${a};\\n            -webkit-clip-path: ${a};\\n        `;this.innerShadow.style.cssText=g}drawOuterShadow(){const t=this.getRect(),e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),i=this.shadow.angle+3*Math.PI/2,s=1===this.getDirection()?this.shadow.width:0,n=0===this.getDirection()?\"to right\":\"to left\",r=[{x:0,y:0},{x:t.pageWidth,y:0},{x:t.pageWidth,y:t.height},{x:0,y:t.height}];let o=\"polygon( \";for(const t of r)if(null!==t){let e=1===this.getDirection()?{x:-t.x+this.shadow.pos.x,y:t.y-this.shadow.pos.y}:{x:t.x-this.shadow.pos.x,y:t.y-this.shadow.pos.y};e=h.GetRotatedPoint(e,{x:s,y:100},i),o+=e.x+\"px \"+e.y+\"px, \"}o=o.slice(0,-2),o+=\")\";const a=`\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex+10).toString(10)};\\n            width: ${this.shadow.width}px;\\n            height: ${2*t.height}px;\\n            background: linear-gradient(${n}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));\\n            transform-origin: ${s}px 100px;\\n            transform: translate3d(${e.x-s}px, ${e.y-100}px, 0) rotate(${i}rad);\\n            clip-path: ${o};\\n            -webkit-clip-path: ${o};\\n        `;this.outerShadow.style.cssText=a}drawLeftPage(){\"portrait\"!==this.orientation&&null!==this.leftPage&&(1===this.direction&&null!==this.flippingPage&&\"hard\"===this.flippingPage.getDrawingDensity()?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){null!==this.rightPage&&(0===this.direction&&null!==this.flippingPage&&\"hard\"===this.flippingPage.getDrawingDensity()?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(null===this.bottomPage)return;const t=null!=this.flippingPage?this.flippingPage.getDrawingDensity():null;\"portrait\"===this.orientation&&1===this.direction||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(t))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),null!=this.flippingPage&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),null!=this.shadow&&null!==this.flippingPage&&(\"soft\"===this.flippingPage.getDrawingDensity()?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const t of this.app.getPageCollection().getPages())t!==this.leftPage&&t!==this.rightPage&&t!==this.flippingPage&&t!==this.bottomPage&&(t.getElement().style.cssText=\"display: none\"),t.getTemporaryCopy()!==this.flippingPage&&t.hideTemporaryCopy()}update(){super.update(),null!==this.rightPage&&this.rightPage.setOrientation(1),null!==this.leftPage&&this.leftPage.setOrientation(0)}}class x{constructor(){this._default={startPage:0,size:\"fixed\",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(t){const e=this._default;if(Object.assign(e,t),\"stretch\"!==e.size&&\"fixed\"!==e.size)throw new Error('Invalid size type. Available only \"fixed\" and \"stretch\" value');if(e.width<=0||e.height<=0)throw new Error(\"Invalid width or height\");if(e.flippingTime<=0)throw new Error(\"Invalid flipping time\");return\"stretch\"===e.size?(e.minWidth<=0&&(e.minWidth=100),e.maxWidth<e.minWidth&&(e.maxWidth=2e3),e.minHeight<=0&&(e.minHeight=100),e.maxHeight<e.minHeight&&(e.maxHeight=2e3)):(e.minWidth=e.width,e.maxWidth=e.width,e.minHeight=e.height,e.maxHeight=e.height),e}}!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&\"undefined\"!=typeof document){var s=document.head||document.getElementsByTagName(\"head\")[0],n=document.createElement(\"style\");n.type=\"text/css\",\"top\"===i&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}(\".stf__parent {\\n  position: relative;\\n  display: block;\\n  box-sizing: border-box;\\n  transform: translateZ(0);\\n\\n  -ms-touch-action: pan-y;\\n  touch-action: pan-y;\\n}\\n\\n.sft__wrapper {\\n  position: relative;\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.stf__parent canvas {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__block {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  perspective: 2000px;\\n}\\n\\n.stf__item {\\n  display: none;\\n  position: absolute;\\n  transform-style: preserve-3d;\\n}\\n\\n.stf__outerShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__innerShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__hardShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__hardInnerShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\");t.PageFlip=class extends class{constructor(){this.events=new Map}on(t,e){return this.events.has(t)?this.events.get(t).push(e):this.events.set(t,[e]),this}off(t){this.events.delete(t)}trigger(t,e,i=null){if(this.events.has(t))for(const s of this.events.get(t))s({data:i,object:e})}}{constructor(t,e){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=(new x).getSettings(e),this.block=t}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(t){this.ui=new u(this.block,this,this.setting);const e=this.ui.getCanvas();this.render=new d(this,this.setting,e),this.flipController=new g(this.render,this),this.pages=new n(this,this.render,t),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger(\"init\",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(t){this.ui=new c(this.block,this,this.setting,t),this.render=new w(this,this.setting,this.ui.getDistElement()),this.flipController=new g(this.render,this),this.pages=new o(this,this.render,this.ui.getDistElement(),t),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger(\"init\",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(t){const e=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new n(this,this.render,t),this.pages.load(),this.pages.show(e),this.trigger(\"update\",this,{page:e,mode:this.render.getOrientation()})}updateFromHtml(t){const e=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new o(this,this.render,this.ui.getDistElement(),t),this.pages.load(),this.ui.updateItems(t),this.render.reload(),this.pages.show(e),this.trigger(\"update\",this,{page:e,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(t){this.pages.show(t)}flipNext(t=\"top\"){this.flipController.flipNext(t)}flipPrev(t=\"top\"){this.flipController.flipPrev(t)}flip(t,e=\"top\"){this.flipController.flipToPage(t,e)}updateState(t){this.trigger(\"changeState\",this,t)}updatePageIndex(t){this.trigger(\"flip\",this,t)}updateOrientation(t){this.ui.setOrientationStyle(t),this.update(),this.trigger(\"changeOrientation\",this,t)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(t){return this.pages.getPage(t)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(t){this.mousePosition=t,this.isUserTouch=!0,this.isUserMove=!1}userMove(t,e){this.isUserTouch||e||!this.setting.showPageCorners?this.isUserTouch&&h.GetDistanceBetweenTwoPoint(this.mousePosition,t)>5&&(this.isUserMove=!0,this.flipController.fold(t)):this.flipController.showCorner(t)}userStop(t,e=!1){this.isUserTouch&&(this.isUserTouch=!1,e||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(t)))}},Object.defineProperty(t,\"__esModule\",{value:!0})}));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}