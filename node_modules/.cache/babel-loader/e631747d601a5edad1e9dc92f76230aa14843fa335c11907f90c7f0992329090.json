{"ast":null,"code":"/**\n * zoom.js\n * www.turnjs.com\n * turnjs.com/license.txt\n *\n * Copyright (C) 2012 Emmanuel Garcia\n **/\n\n(function ($) {\n  'use strict';\n\n  var has3d,\n    zoomOptions = {\n      max: 2,\n      flipbook: null,\n      easeFunction: 'ease-in-out',\n      duration: 500,\n      when: {}\n    },\n    zoomMethods = {\n      init: function (opts) {\n        var that = this,\n          data = this.data(),\n          options = $.extend({}, zoomOptions, opts);\n        if (!options.flipbook || !options.flipbook.turn('is')) {\n          throw error('options.flipbook is required');\n        }\n        has3d = 'WebKitCSSMatrix' in window || 'MozPerspective' in document.body.style;\n        if (typeof options.max != 'function') {\n          var max = options.max;\n          options.max = function () {\n            return max;\n          };\n        }\n        data.zoom = {\n          opts: options,\n          axis: point2D(0, 0),\n          scrollPos: point2D(0, 0),\n          eventQueue: [],\n          mouseupEvent: function () {\n            return zoomMethods._eMouseUp.apply(that, arguments);\n          },\n          eventTouchStart: bind(zoomMethods._eTouchStart, that),\n          eventTouchMove: bind(zoomMethods._eTouchMove, that),\n          eventTouchEnd: bind(zoomMethods._eTouchEnd, that),\n          flipbookEvents: {\n            zooming: bind(zoomMethods._eZoom, that),\n            pressed: bind(zoomMethods._ePressed, that),\n            released: bind(zoomMethods._eReleased, that),\n            start: bind(zoomMethods._eStart, that),\n            turning: bind(zoomMethods._eTurning, that),\n            turned: bind(zoomMethods._eTurned, that),\n            destroying: bind(zoomMethods._eDestroying, that)\n          }\n        };\n        for (var eventName in options.when) {\n          if (Object.prototype.hasOwnProperty.call(options.when, eventName)) {\n            this.bind('zoom.' + eventName, options.when[eventName]);\n          }\n        }\n        for (eventName in data.zoom.flipbookEvents) {\n          if (Object.prototype.hasOwnProperty.call(data.zoom.flipbookEvents, eventName)) {\n            options.flipbook.bind(eventName, data.zoom.flipbookEvents[eventName]);\n          }\n        }\n        this.css({\n          position: 'relative',\n          overflow: 'hidden'\n        });\n        if ($.isTouch) {\n          options.flipbook.bind('touchstart', data.zoom.eventTouchStart).bind('touchmove', data.zoom.eventTouchMove).bind('touchend', data.zoom.eventTouchEnd);\n          this.bind('touchstart', zoomMethods._tap);\n        } else {\n          this.mousedown(zoomMethods._mousedown).click(zoomMethods._tap);\n        }\n      },\n      _tap: function (event) {\n        var that = $(this),\n          data = that.data().zoom,\n          flip = data.opts.flipbook;\n        if (data.draggingCorner || data.dragging) {\n          return;\n        }\n        if (isPage($(event.target), that)) {\n          zoomMethods._addEvent.call(that, 'tap', event);\n          var secuence = zoomMethods._eventSeq.call(that);\n          if (secuence) that.trigger(secuence);\n        }\n      },\n      _addEvent: function (eventName, event) {\n        var data = this.data().zoom,\n          time = new Date().getTime(),\n          eventObject = {\n            name: eventName,\n            timestamp: time,\n            event: event\n          };\n        data.eventQueue.push(eventObject);\n        if (data.eventQueue.length > 10) data.eventQueue.splice(0, 1);\n      },\n      _eventSeq: function () {\n        var data = this.data().zoom,\n          list = data.eventQueue,\n          lastEvent = list.length - 1;\n        if (lastEvent > 0 && list[lastEvent].name == 'tap' && list[lastEvent - 1].name == 'tap' && list[lastEvent].event.pageX == list[lastEvent - 1].event.pageX && list[lastEvent].event.pageY == list[lastEvent - 1].event.pageY && list[lastEvent].timestamp - list[lastEvent - 1].timestamp < 200 && list[lastEvent].timestamp - list[lastEvent - 1].timestamp > 50) {\n          return $.extend(list[lastEvent].event, {\n            type: 'zoom.doubleTap'\n          });\n        } else if (list[lastEvent].name == 'tap') {\n          return $.extend(list[lastEvent].event, {\n            type: 'zoom.tap'\n          });\n        }\n      },\n      _prepareZoom: function () {\n        var flipPos,\n          offsetLeft = 0,\n          data = this.data().zoom,\n          invz = 1 / this.zoom('value'),\n          flip = data.opts.flipbook,\n          dir = flip.turn('direction'),\n          flipData = flip.data(),\n          flipOffset = flip.offset(),\n          thisOffset = this.offset(),\n          flipSize = {\n            height: flip.height()\n          },\n          view = flip.turn('view');\n        if (flip.turn('display') == 'double' && flip.data().opts.autoCenter) {\n          if (!view[0]) {\n            flipSize.width = flip.width() / 2;\n            offsetLeft = dir == 'ltr' ? flipSize.width : 0;\n            flipPos = point2D(dir == 'ltr' ? flipOffset.left - thisOffset.left + flipSize.width : flipOffset.left - thisOffset.left, flipOffset.top - thisOffset.top);\n          } else if (!view[1]) {\n            flipSize.width = flip.width() / 2;\n            offsetLeft = dir == 'ltr' ? 0 : flipSize.width;\n            flipPos = point2D(dir == 'ltr' ? flipOffset.left - thisOffset.left : flipOffset.left - thisOffset.left + flipSize.width, flipOffset.top - thisOffset.top);\n          } else {\n            flipSize.width = flip.width();\n            flipPos = point2D(flipOffset.left - thisOffset.left, flipOffset.top - thisOffset.top);\n          }\n        } else {\n          flipSize.width = flip.width();\n          flipPos = point2D(flipOffset.left - thisOffset.left, flipOffset.top - thisOffset.top);\n        }\n        if (!data.zoomer) {\n          data.zoomer = $('<div />', {\n            'class': 'zoomer',\n            css: {\n              overflow: 'hidden',\n              position: 'absolute',\n              zIndex: '1000000'\n            }\n          }).mousedown(function () {\n            return false;\n          }).appendTo(this);\n        }\n        data.zoomer.css({\n          top: flipPos.y,\n          left: flipPos.x,\n          width: flipSize.width,\n          height: flipSize.height\n        });\n        var zoomerView = view.join(',');\n        if (zoomerView != data.zoomerView) {\n          data.zoomerView = zoomerView;\n          data.zoomer.find('*').remove();\n          for (var p = 0; p < view.length; p++) {\n            if (!view[p]) continue;\n            var pos = flipData.pageObjs[view[p]].offset(),\n              pageElement = $(flipData.pageObjs[view[p]]);\n            pageElement.clone().transform('').css({\n              width: pageElement.width() * invz,\n              height: pageElement.height() * invz,\n              position: 'absolute',\n              display: '',\n              top: (pos.top - flipOffset.top) * invz,\n              left: (pos.left - flipOffset.left - offsetLeft) * invz\n            }).appendTo(data.zoomer);\n          }\n        }\n        return {\n          pos: flipPos,\n          size: flipSize\n        };\n      },\n      value: function () {\n        var data = this.data().zoom;\n        return data.opts.flipbook.turn('zoom');\n      },\n      zoomIn: function (event) {\n        var pos,\n          that = this,\n          data = this.data().zoom,\n          flip = data.opts.flipbook,\n          zoom = data.opts.max(),\n          flipOffset = flip.offset(),\n          thisOffset = this.offset();\n        if (data.zoomIn) return this;\n        flip.turn('stop');\n        var ev = $.Event('zoom.change');\n        this.trigger(ev, [zoom]);\n        if (ev.isDefaultPrevented()) return this;\n        var bound = zoomMethods._prepareZoom.call(this),\n          flipPos = bound.pos,\n          center = point2D(bound.size.width / 2, bound.size.height / 2),\n          prefix = $.cssPrefix(),\n          transitionEnd = $.cssTransitionEnd(),\n          autoCenter = flip.data().opts.autoCenter;\n        data.scale = zoom;\n        flip.data().noCenter = true;\n        if (typeof event != 'undefined') {\n          if ('x' in event && 'y' in event) {\n            pos = point2D(event.x - flipPos.x, event.y - flipPos.y);\n          } else {\n            pos = $.isTouch ? point2D(event.originalEvent.touches[0].pageX - flipPos.x - thisOffset.left, event.originalEvent.touches[0].pageY - flipPos.y - thisOffset.top) : point2D(event.pageX - flipPos.x - thisOffset.left, event.pageY - flipPos.y - thisOffset.top);\n          }\n        } else {\n          pos = point2D(center.x, center.y);\n        }\n        if (pos.x < 0 || pos.y < 0 || pos.x > bound.width || pos.y > bound.height) {\n          pos.x = center.x;\n          pos.y = center.y;\n        }\n        var compose = point2D((pos.x - center.x) * zoom + center.x, (pos.y - center.y) * zoom + center.y),\n          move = point2D(bound.size.width * zoom > this.width() ? pos.x - compose.x : 0, bound.size.height * zoom > this.height() ? pos.y - compose.y : 0),\n          maxMove = point2D(Math.abs(bound.size.width * zoom - this.width()), Math.abs(bound.size.height * zoom - this.height())),\n          minMove = point2D(Math.min(0, bound.size.width * zoom - this.width()), Math.min(0, bound.size.height * zoom - this.height())),\n          realPos = point2D(center.x * zoom - center.x - flipPos.x - move.x, center.y * zoom - center.y - flipPos.y - move.y);\n        if (realPos.y > maxMove.y) move.y = realPos.y - maxMove.y + move.y;else if (realPos.y < minMove.y) move.y = realPos.y - minMove.y + move.y;\n        if (realPos.x > maxMove.x) move.x = realPos.x - maxMove.x + move.x;else if (realPos.x < minMove.x) move.x = realPos.x - minMove.x + move.x;\n        realPos = point2D(center.x * zoom - center.x - flipPos.x - move.x, center.y * zoom - center.y - flipPos.y - move.y);\n        var css = {};\n        css[prefix + 'transition'] = prefix + 'transform ' + data.opts.easeFunction + ' ' + data.opts.duration + 'ms';\n        var transitionEndCallback = function () {\n          that.trigger('zoom.zoomIn');\n          data.zoomIn = true;\n          data.flipPosition = point2D(flip.css('left'), flip.css('top'));\n          flip.turn('zoom', zoom).css({\n            position: 'absolute',\n            margin: '',\n            top: 0,\n            left: 0\n          });\n          var flipOffset = flip.offset();\n          data.axis = point2D(flipOffset.left - thisOffset.left, flipOffset.top - thisOffset.top);\n          if (autoCenter && flip.turn('display') == 'double') if (flip.turn('direction') == 'ltr' && !flip.turn('view')[0] || flip.turn('direction') == 'rtl' && !flip.turn('view')[1]) data.axis.x = data.axis.x + flip.width() / 2;\n          that.zoom('scroll', realPos);\n          that.bind($.mouseEvents.down, zoomMethods._eMouseDown);\n          that.bind($.mouseEvents.move, zoomMethods._eMouseMove);\n          $(document).bind($.mouseEvents.up, data.mouseupEvent);\n          that.bind('mousewheel', zoomMethods._eMouseWheel);\n          setTimeout(function () {\n            data.zoomer.hide();\n            data.zoomer.remove();\n            data.zoomer = null;\n            data.zoomerView = null;\n          }, 50);\n        };\n        data.zoomer.css(css).show();\n        if (transitionEnd) data.zoomer.bind(transitionEnd, function () {\n          $(this).unbind(transitionEnd);\n          transitionEndCallback();\n        });else setTimeout(transitionEndCallback, data.opts.duration);\n        data.zoomer.transform(translate(move.x, move.y, true) + scale(zoom, true));\n        return this;\n      },\n      zoomOut: function (duration) {\n        var pos,\n          move,\n          that = this,\n          data = this.data().zoom,\n          flip = data.opts.flipbook,\n          zoom = 1,\n          scaling = zoom / data.scale,\n          prefix = $.cssPrefix(),\n          transitionEnd = $.cssTransitionEnd(),\n          thisOffset = this.offset();\n        duration = typeof duration != 'undefined' ? duration : data.opts.duration;\n        if (!data.zoomIn) return;\n        var ev = $.Event('zoom.change');\n        this.trigger(ev, [zoom]);\n        if (ev.isDefaultPrevented()) return this;\n        data.zoomIn = false;\n        data.scale = zoom;\n        flip.data().noCenter = false;\n        that.unbind($.mouseEvents.down, zoomMethods._eMouseDown);\n        that.unbind($.mouseEvents.move, zoomMethods._eMouseMove);\n        $(document).unbind($.mouseEvents.up, data.mouseupEvent);\n        that.unbind('mousewheel', zoomMethods._eMouseWheel);\n        var css = {};\n        css[prefix + 'transition'] = prefix + 'transform ' + data.opts.easeFunction + ' ' + duration + 'ms';\n        flip.css(css);\n        var flipDesPos,\n          tmp = $('<div />', {\n            css: {\n              position: 'relative',\n              top: data.flipPosition.y,\n              left: data.flipPosition.x,\n              width: flip.width() * scaling,\n              height: flip.height() * scaling,\n              background: 'blue'\n            }\n          }).appendTo(flip.parent());\n        flipDesPos = point2D(tmp.offset().left - thisOffset.left, tmp.offset().top - thisOffset.top);\n        tmp.remove();\n        var autoCenter = flip.data().opts.autoCenter;\n        if (autoCenter && flip.turn('display') == 'double') {\n          if (!flip.turn('view')[0]) flipDesPos.x = flip.turn('direction') == 'ltr' ? flipDesPos.x - tmp.width() / 4 : flipDesPos.x + tmp.width() / 4;else if (!flip.turn('view')[1]) flipDesPos.x = flip.turn('direction') == 'ltr' ? flipDesPos.x + tmp.width() / 4 : flipDesPos.x - tmp.width() / 4;\n        }\n        var flipRealPos = $.findPos(flip[0]);\n        move = point2D(-flip.width() / 2 - flipRealPos.left + tmp.width() / 2 + flipDesPos.x + thisOffset.left, -flip.height() / 2 - flipRealPos.top + tmp.height() / 2 + flipDesPos.y + thisOffset.top);\n        var transitionEndCallback = function () {\n          if (flip[0].style.removeProperty) {\n            flip[0].style.removeProperty(prefix + 'transition');\n            flip.transform(flip.turn('options').acceleration ? translate(0, 0, true) : '').turn('zoom', 1);\n            flip[0].style.removeProperty('margin');\n            flip.css({\n              position: 'relative',\n              top: data.flipPosition.y,\n              left: data.flipPosition.x\n            });\n          } else {\n            flip.transform('none').turn('zoom', 1).css({\n              margin: '',\n              top: data.flipPosition.y,\n              left: data.flipPosition.x,\n              position: 'relative'\n            });\n          }\n          if (autoCenter) flip.turn('center');\n          that.trigger('zoom.zoomOut');\n        };\n        if (duration === 0) {\n          transitionEndCallback();\n        } else if (transitionEnd) {\n          flip.bind(transitionEnd, function () {\n            $(this).unbind(transitionEnd);\n            transitionEndCallback();\n          });\n          flip.transform(translate(move.x, move.y, true) + scale(scaling, true));\n        } else {\n          setTimeout(transitionEndCallback, duration);\n          flip.transform(translate(move.x, move.y, true) + scale(scaling, true));\n        }\n        return this;\n      },\n      flipbookWidth: function () {\n        var data = this.data().zoom,\n          flipbook = data.opts.flipbook,\n          view = flipbook.turn('view');\n        return flipbook.turn('display') == 'double' && (!view[0] || !view[1]) ? flipbook.width() / 2 : flipbook.width();\n      },\n      scroll: function (to, unlimited, animate) {\n        var data = this.data().zoom,\n          flip = data.opts.flipbook,\n          flipWidth = this.zoom('flipbookWidth'),\n          prefix = $.cssPrefix();\n        if (has3d) {\n          var css = {};\n          if (animate) {\n            css[prefix + 'transition'] = prefix + 'transform 200ms';\n          } else {\n            css[prefix + 'transition'] = 'none';\n          }\n          flip.css(css);\n          flip.transform(translate(-data.axis.x - to.x, -data.axis.y - to.y, true));\n        } else {\n          flip.css({\n            top: -data.axis.y - to.y,\n            left: -data.axis.x - to.x\n          });\n        }\n        if (!unlimited) {\n          var out,\n            minBound = point2D(Math.min(0, (flipWidth - this.width()) / 2), Math.min(0, (flip.height() - this.height()) / 2)),\n            maxBound = point2D(flipWidth > this.width() ? flipWidth - this.width() : (flipWidth - this.width()) / 2, flip.height() > this.height() ? flip.height() - this.height() : (flip.height() - this.height()) / 2);\n          if (to.y < minBound.y) {\n            to.y = minBound.y;\n            out = true;\n          } else if (to.y > maxBound.y) {\n            to.y = maxBound.y;\n            out = true;\n          }\n          if (to.x < minBound.x) {\n            to.x = minBound.x;\n            out = true;\n          } else if (to.x > maxBound.x) {\n            to.x = maxBound.x;\n            out = true;\n          }\n          if (out) {\n            this.zoom('scroll', to, true, true);\n          }\n        }\n        data.scrollPos = point2D(to.x, to.y);\n      },\n      resize: function () {\n        var data = this.data().zoom,\n          flip = data.opts.flipbook;\n        if (this.zoom('value') > 1) {\n          var flipOffset = flip.offset(),\n            thisOffset = this.offset();\n          data.axis = point2D(flipOffset.left - thisOffset.left + (data.axis.x + data.scrollPos.x), flipOffset.top - thisOffset.top + (data.axis.y + data.scrollPos.y));\n          if (flip.turn('display') == 'double' && flip.turn('direction') == 'ltr' && !flip.turn('view')[0]) data.axis.x = data.axis.x + flip.width() / 2;\n          this.zoom('scroll', data.scrollPos);\n        }\n      },\n      _eZoom: function () {\n        var flipPos,\n          data = this.data().zoom,\n          flip = data.opts.flipbook,\n          view = flip.turn('view');\n        for (var p = 0; p < view.length; p++) {\n          if (view[p]) this.trigger('zoom.resize', [data.scale, view[p], flip.data().pageObjs[view[p]]]);\n        }\n      },\n      _eStart: function (event, pageObj) {\n        if (this.zoom('value') != 1) {\n          event.preventDefault();\n        }\n      },\n      _eTurning: function (event, page, view) {\n        var that = this,\n          zoom = this.zoom('value'),\n          data = this.data().zoom,\n          flip = data.opts.flipbook;\n        data.page = flip.turn('page');\n        if (zoom != 1) {\n          for (var p = 0; p < view.length; p++) {\n            if (view[p]) this.trigger('zoom.resize', [zoom, view[p], flip.data().pageObjs[view[p]]]);\n          }\n          setTimeout(function () {\n            that.zoom('resize');\n          }, 0);\n        }\n      },\n      _eTurned: function (event, page) {\n        if (this.zoom('value') != 1) {\n          var that = this,\n            data = this.data().zoom,\n            flip = data.opts.flipbook;\n          if (page > data.page) this.zoom('scroll', point2D(0, data.scrollPos.y), false, true);else if (page < data.page) this.zoom('scroll', point2D(flip.width(), data.scrollPos.y), false, true);\n        }\n      },\n      _ePressed: function () {\n        var data = $(this).data().zoom;\n        data.draggingCorner = true;\n      },\n      _eReleased: function () {\n        var data = $(this).data().zoom;\n        setTimeout(function () {\n          data.draggingCorner = false;\n        }, 1);\n      },\n      _eMouseDown: function (event) {\n        var data = $(this).data().zoom;\n        data.draggingCur = $.isTouch ? point2D(event.originalEvent.touches[0].pageX, event.originalEvent.touches[0].pageY) : point2D(event.pageX, event.pageY);\n        return false;\n      },\n      _eMouseMove: function (event) {\n        var data = $(this).data().zoom;\n        if (data.draggingCur) {\n          data.dragging = true;\n          var cur = $.isTouch ? point2D(event.originalEvent.touches[0].pageX, event.originalEvent.touches[0].pageY) : point2D(event.pageX, event.pageY),\n            motion = point2D(cur.x - data.draggingCur.x, cur.y - data.draggingCur.y);\n          $(this).zoom('scroll', point2D(data.scrollPos.x - motion.x, data.scrollPos.y - motion.y), true);\n          data.draggingCur = cur;\n          return false;\n        }\n      },\n      _eMouseUp: function (event) {\n        var data = $(this).data().zoom;\n        if (data.dragging) {\n          $(this).zoom('scroll', data.scrollPos);\n        }\n        data.draggingCur = null;\n        setTimeout(function () {\n          data.dragging = false;\n        }, 1);\n      },\n      _eMouseWheel: function (event, delta, deltaX, deltaY) {\n        var data = $(this).data().zoom,\n          cur = point2D(data.scrollPos.x + deltaX * 10, data.scrollPos.y - deltaY * 10);\n        $(this).zoom('scroll', cur, false, true);\n      },\n      _eTouchStart: function (event, page) {\n        var data = $(this).data().zoom,\n          flip = data.opts.flipbook,\n          finger = point2D(event.originalEvent.touches[0].pageX, event.originalEvent.touches[0].pageY);\n        data.touch = {};\n        data.touch.initial = finger;\n        data.touch.last = finger;\n        data.touch.timestamp = new Date().getTime();\n        data.touch.speed = point2D(0, 0);\n      },\n      _eTouchMove: function (event) {\n        var data = $(this).data().zoom,\n          zoom = $(this).zoom('value'),\n          flip = data.opts.flipbook,\n          time = new Date().getTime(),\n          finger = point2D(event.originalEvent.touches[0].pageX, event.originalEvent.touches[0].pageY);\n        if (data.touch && zoom == 1 && !flip.data().mouseAction) {\n          data.touch.motion = point2D(finger.x - data.touch.last.x, finger.y - data.touch.last.y);\n          data.touch.speed.x = data.touch.speed.x === 0 ? data.touch.motion.x / (time - data.touch.timestamp) : (data.touch.speed.x + data.touch.motion.x / (time - data.touch.timestamp)) / 2;\n          data.touch.last = finger;\n          data.touch.timestamp = time;\n        }\n      },\n      _eTouchEnd: function (event) {\n        var data = $(this).data().zoom;\n        if (data.touch && $(this).zoom('value') == 1) {\n          var y = Math.abs(data.touch.initial.y - data.touch.last.y);\n          if (y < 50 && (data.touch.speed.x < -1 || data.touch.last.x - data.touch.initial.x < -100)) {\n            this.trigger('zoom.swipeLeft');\n          } else if (y < 50 && (data.touch.speed.x > 1 || data.touch.last.x - data.touch.initial.x > 100)) {\n            this.trigger('zoom.swipeRight');\n          }\n        }\n      },\n      _eDestroying: function () {\n        var that = this,\n          data = this.data().zoom,\n          flip = data.opts.flipbook,\n          events = ['tap', 'doubleTap', 'resize', 'zoomIn', 'zoomOut', 'swipeLeft', 'swipeRight'];\n        this.zoom('zoomOut', 0);\n        $.each(events, function (index, eventName) {\n          that.unbind('zoom.' + eventName);\n        });\n        for (var eventName in data.flipbookEvents) {\n          if (Object.prototype.hasOwnProperty.call(data.flipbookEvents, eventName)) {\n            flip.unbind(eventName, data.flipbookEvents[eventName]);\n          }\n        }\n        flip.unbind('touchstart', data.eventTouchStart).unbind('touchmove', data.eventTouchMove).unbind('touchend', data.eventTouchEnd);\n        this.unbind('touchstart', zoomMethods._tap).unbind('click', zoomMethods._tap);\n        data = null;\n        this.data().zoom = null;\n      }\n    };\n  function isPage(element, last) {\n    if (element[0] == last[0]) return false;\n    if (element.attr('page')) return true;\n    return element.parent()[0] ? isPage(element.parent(), last) : false;\n  }\n  function error(message) {\n    function TurnJsError(message) {\n      this.name = \"TurnJsError\";\n      this.message = message;\n    }\n    TurnJsError.prototype = new Error();\n    TurnJsError.prototype.constructor = TurnJsError;\n    return new TurnJsError(message);\n  }\n  function translate(x, y, use3d) {\n    return has3d && use3d ? ' translate3d(' + x + 'px,' + y + 'px, 0px) ' : ' translate(' + x + 'px, ' + y + 'px) ';\n  }\n  function scale(v, use3d) {\n    return has3d && use3d ? ' scale3d(' + v + ', ' + v + ', 1) ' : ' scale(' + v + ') ';\n  }\n  function point2D(x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  }\n  function bind(func, context) {\n    return function () {\n      return func.apply(context, arguments);\n    };\n  }\n  $.extend($.fn, {\n    zoom: function () {\n      var args = arguments;\n      if (!args[0] || typeof args[0] == 'object') return zoomMethods.init.apply($(this[0]), args);else if (zoomMethods[args[0]]) return zoomMethods[args[0]].apply($(this[0]), Array.prototype.slice.call(args, 1));else throw error(args[0] + ' is not a method');\n    }\n  });\n})(jQuery);","map":{"version":3,"names":["$","has3d","zoomOptions","max","flipbook","easeFunction","duration","when","zoomMethods","init","opts","that","data","options","extend","turn","error","window","document","body","style","zoom","axis","point2D","scrollPos","eventQueue","mouseupEvent","_eMouseUp","apply","arguments","eventTouchStart","bind","_eTouchStart","eventTouchMove","_eTouchMove","eventTouchEnd","_eTouchEnd","flipbookEvents","zooming","_eZoom","pressed","_ePressed","released","_eReleased","start","_eStart","turning","_eTurning","turned","_eTurned","destroying","_eDestroying","eventName","Object","prototype","hasOwnProperty","call","css","position","overflow","isTouch","_tap","mousedown","_mousedown","click","event","flip","draggingCorner","dragging","isPage","target","_addEvent","secuence","_eventSeq","trigger","time","Date","getTime","eventObject","name","timestamp","push","length","splice","list","lastEvent","pageX","pageY","type","_prepareZoom","flipPos","offsetLeft","invz","dir","flipData","flipOffset","offset","thisOffset","flipSize","height","view","autoCenter","width","left","top","zoomer","zIndex","appendTo","y","x","zoomerView","join","find","remove","p","pos","pageObjs","pageElement","clone","transform","display","size","value","zoomIn","ev","Event","isDefaultPrevented","bound","center","prefix","cssPrefix","transitionEnd","cssTransitionEnd","scale","noCenter","originalEvent","touches","compose","move","maxMove","Math","abs","minMove","min","realPos","transitionEndCallback","flipPosition","margin","mouseEvents","down","_eMouseDown","_eMouseMove","up","_eMouseWheel","setTimeout","hide","show","unbind","translate","zoomOut","scaling","flipDesPos","tmp","background","parent","flipRealPos","findPos","removeProperty","acceleration","flipbookWidth","scroll","to","unlimited","animate","flipWidth","out","minBound","maxBound","resize","pageObj","preventDefault","page","draggingCur","cur","motion","delta","deltaX","deltaY","finger","touch","initial","last","speed","mouseAction","events","each","index","element","attr","message","TurnJsError","Error","constructor","use3d","v","func","context","fn","args","Array","slice","jQuery"],"sources":["C:/Users/Syahrul/PKM/test-react/portfolio-alpha/src/lib/zoom.js"],"sourcesContent":["/**\n * zoom.js\n * www.turnjs.com\n * turnjs.com/license.txt\n *\n * Copyright (C) 2012 Emmanuel Garcia\n **/\n\n(function($) {\n\n'use strict';\n\nvar has3d,\n\nzoomOptions = {\n  max: 2,\n  flipbook: null,\n  easeFunction: 'ease-in-out',\n  duration: 500,\n  when: {}\n},\n\nzoomMethods = {\n  init: function(opts) {\n\n    var that = this,\n    data = this.data(),\n    options = $.extend({}, zoomOptions, opts);\n\n    if (!options.flipbook || !options.flipbook.turn('is')) {\n      throw error('options.flipbook is required');\n    }\n\n    has3d = 'WebKitCSSMatrix' in window || 'MozPerspective' in document.body.style;\n\n    if (typeof(options.max)!='function') {\n      var max = options.max;\n      options.max = function() { return max; };\n    }\n\n    data.zoom = {\n      opts: options,\n      axis: point2D(0, 0),\n      scrollPos: point2D(0, 0),\n      eventQueue: [],\n      mouseupEvent: function() {\n        return zoomMethods._eMouseUp.apply(that, arguments);\n      },\n      eventTouchStart: bind(zoomMethods._eTouchStart, that),\n      eventTouchMove: bind(zoomMethods._eTouchMove, that),\n      eventTouchEnd: bind(zoomMethods._eTouchEnd, that),\n      flipbookEvents: {\n        zooming: bind(zoomMethods._eZoom, that),\n        pressed: bind(zoomMethods._ePressed, that),\n        released: bind(zoomMethods._eReleased, that),\n        start: bind(zoomMethods._eStart, that),\n        turning: bind(zoomMethods._eTurning, that),\n        turned: bind(zoomMethods._eTurned, that),\n        destroying: bind(zoomMethods._eDestroying, that)\n      }\n    };\n\n    for (var eventName in options.when) {\n      if (Object.prototype.hasOwnProperty.call(options.when, eventName)) {\n        this.bind('zoom.'+eventName, options.when[eventName]);\n      }\n    }\n\n    for (eventName in data.zoom.flipbookEvents) {\n      if (Object.prototype.hasOwnProperty.call(data.zoom.flipbookEvents, eventName)) {\n        options.flipbook.bind(eventName, data.zoom.flipbookEvents[eventName]);\n      }\n    }\n\n    this.css({\n      position: 'relative',\n      overflow : 'hidden'\n    });\n\n    if ($.isTouch) {\n\n      options.flipbook.\n        bind('touchstart', data.zoom.eventTouchStart ).\n        bind('touchmove', data.zoom.eventTouchMove).\n        bind('touchend', data.zoom.eventTouchEnd);\n\n      this.bind('touchstart', zoomMethods._tap);\n\n    } else {\n      this.mousedown(zoomMethods._mousedown).\n        click(zoomMethods._tap);\n    }\n  },\n\n  _tap: function(event) {\n    \n    var that = $(this),\n      data = that.data().zoom,\n      flip = data.opts.flipbook;\n\n    if (data.draggingCorner || data.dragging) {\n      return;\n    }\n\n    if (isPage($(event.target), that)) {\n\n      zoomMethods._addEvent.call(that, 'tap', event);\n      \n      var secuence = zoomMethods._eventSeq.call(that);\n\n      if (secuence)\n        that.trigger(secuence);\n\n    }\n\n  },\n\n  _addEvent: function(eventName, event) {\n    \n    var data = this.data().zoom,\n      time = (new Date()).getTime(),\n      eventObject = {name: eventName, timestamp: time, event: event};\n\n    data.eventQueue.push(eventObject);\n\n    if (data.eventQueue.length>10)\n      data.eventQueue.splice(0, 1);\n\n  },\n\n  _eventSeq: function() {\n\n    var data = this.data().zoom,\n      list = data.eventQueue,\n      lastEvent = list.length-1;\n\n    if (lastEvent>0 &&\n      list[lastEvent].name=='tap' &&\n      list[lastEvent-1].name=='tap' &&\n      list[lastEvent].event.pageX == list[lastEvent-1].event.pageX &&\n      list[lastEvent].event.pageY == list[lastEvent-1].event.pageY &&\n      list[lastEvent].timestamp-list[lastEvent-1].timestamp < 200 &&\n      list[lastEvent].timestamp-list[lastEvent-1].timestamp > 50)\n    {\n  \n      return $.extend(list[lastEvent].event, {type: 'zoom.doubleTap'});\n\n    } else if (list[lastEvent].name=='tap') {\n      \n      return $.extend(list[lastEvent].event, {type: 'zoom.tap'});\n\n    }\n      \n  },\n\n  _prepareZoom: function () {\n    \n    var flipPos, offsetLeft = 0,\n      data = this.data().zoom,\n      invz = 1/this.zoom('value'),\n      flip = data.opts.flipbook,\n      dir = flip.turn('direction'),\n      flipData = flip.data(),\n      flipOffset = flip.offset(),\n      thisOffset = this.offset(),\n      flipSize = {height: flip.height()},\n      view = flip.turn('view');\n\n      if (flip.turn('display')=='double' && flip.data().opts.autoCenter) {\n        if (!view[0]) {\n          flipSize.width = flip.width()/2;\n          offsetLeft = (dir=='ltr') ? flipSize.width : 0;\n          flipPos = point2D(\n            (dir=='ltr') ? flipOffset.left-thisOffset.left+flipSize.width : flipOffset.left-thisOffset.left,\n            flipOffset.top-thisOffset.top\n          );\n\n        } else if (!view[1]) {\n          flipSize.width = flip.width()/2;\n          offsetLeft = (dir=='ltr') ? 0 : flipSize.width;\n          flipPos = point2D(\n            (dir=='ltr') ? flipOffset.left-thisOffset.left : flipOffset.left-thisOffset.left+flipSize.width,\n            flipOffset.top-thisOffset.top\n          );\n        } else {\n          flipSize.width = flip.width();\n          flipPos = point2D(\n            flipOffset.left-thisOffset.left,\n            flipOffset.top-thisOffset.top\n          );\n        }\n      } else {\n        flipSize.width = flip.width();\n        flipPos = point2D(\n          flipOffset.left-thisOffset.left,\n          flipOffset.top-thisOffset.top\n        );\n      }\n\n    if (!data.zoomer) {\n      data.zoomer = $('<div />',\n        {'class': 'zoomer',\n          css: {\n            overflow:'hidden',\n            position: 'absolute',\n            zIndex: '1000000'\n          }\n        }).\n      mousedown(function() {\n        return false;\n      }).appendTo(this);\n    }\n\n\n    data.zoomer.css({\n      top: flipPos.y,\n      left: flipPos.x,\n      width: flipSize.width,\n      height: flipSize.height\n    });\n    \n    var zoomerView = view.join(',');\n\n    if (zoomerView!=data.zoomerView) {\n\n      data.zoomerView = zoomerView;\n      data.zoomer.find('*').remove();\n\n      for (var p = 0; p<view.length; p++) {\n\n        if (!view[p])\n          continue;\n\n        var pos = flipData.pageObjs[view[p]].offset(),\n          pageElement = $(flipData.pageObjs[view[p]]);\n          \n        pageElement.\n          clone().\n          transform('').\n          css({\n            width: pageElement.width()*invz,\n            height: pageElement.height()*invz,\n            position: 'absolute',\n            display: '',\n            top: (pos.top - flipOffset.top)*invz,\n            left: (pos.left - flipOffset.left - offsetLeft)*invz\n          }).\n          appendTo(data.zoomer);\n      }\n    }\n    \n    \n    return {pos: flipPos, size: flipSize};\n\n  },\n\n  value: function() {\n\n    var data = this.data().zoom;\n\n    return data.opts.flipbook.turn('zoom');\n  },\n\n  zoomIn: function(event) {\n\n    var pos,\n      that = this,\n      data = this.data().zoom,\n      flip = data.opts.flipbook,\n      zoom = data.opts.max(),\n      flipOffset = flip.offset(),\n      thisOffset = this.offset();\n\n    if (data.zoomIn)\n      return this;\n\n    flip.turn('stop');\n    \n    var ev = $.Event('zoom.change');\n    this.trigger(ev, [zoom]);\n\n    if (ev.isDefaultPrevented())\n      return this;\n\n    var bound = zoomMethods._prepareZoom.call(this),\n      flipPos = bound.pos,\n      center = point2D(bound.size.width/2, bound.size.height/2),\n      prefix = $.cssPrefix(),\n      transitionEnd = $.cssTransitionEnd(),\n      autoCenter = flip.data().opts.autoCenter;\n\n    data.scale = zoom;\n    flip.data().noCenter = true;\n\n    if (typeof(event)!='undefined') {\n\n      if ('x' in event && 'y' in event) {\n        \n        pos = point2D(event.x-flipPos.x, event.y-flipPos.y);\n      \n      } else {\n\n        pos = ($.isTouch) ?\n          point2D(\n            event.originalEvent.touches[0].pageX-flipPos.x-thisOffset.left,\n            event.originalEvent.touches[0].pageY-flipPos.y-thisOffset.top\n          )\n          :\n          point2D(\n            event.pageX-flipPos.x-thisOffset.left,\n            event.pageY-flipPos.y-thisOffset.top\n          );\n\n      }\n\n    } else {\n      pos = point2D(center.x, center.y);\n    }\n\n\n\n    if (pos.x<0 || pos.y<0 || pos.x>bound.width || pos.y>bound.height) {\n      pos.x = center.x;\n      pos.y = center.y;\n    }\n\n\n    var compose = point2D(\n        (pos.x-center.x)*zoom + center.x,\n        (pos.y-center.y)*zoom + center.y\n      ),\n      move = point2D(\n        (bound.size.width*zoom>this.width()) ? pos.x-compose.x : 0,\n        (bound.size.height*zoom>this.height()) ? pos.y-compose.y : 0\n      ),\n      maxMove = point2D(\n        Math.abs(bound.size.width*zoom-this.width()),\n        Math.abs(bound.size.height*zoom-this.height())\n      ),\n      minMove = point2D(\n        Math.min(0, bound.size.width*zoom-this.width()),\n        Math.min(0, bound.size.height*zoom-this.height())\n      ),\n      realPos = point2D(\n        center.x*zoom - center.x - flipPos.x - move.x,\n        center.y*zoom - center.y - flipPos.y - move.y\n      );\n\n    if (realPos.y>maxMove.y)\n      move.y = realPos.y - maxMove.y +  move.y;\n    else if (realPos.y<minMove.y)\n      move.y = realPos.y - minMove.y +  move.y;\n\n    if (realPos.x>maxMove.x)\n      move.x = realPos.x - maxMove.x +  move.x;\n    else if (realPos.x<minMove.x)\n      move.x = realPos.x - minMove.x +  move.x;\n\n    realPos = point2D(\n      center.x*zoom - center.x - flipPos.x - move.x,\n      center.y*zoom - center.y - flipPos.y - move.y\n    );\n\n    var css = {};\n\n    css[prefix+'transition'] = prefix +\n      'transform ' +\n      data.opts.easeFunction +\n      ' ' +\n      data.opts.duration +\n      'ms';\n\n    var transitionEndCallback = function() {\n\n      that.trigger('zoom.zoomIn');\n\n      data.zoomIn = true;\n\n      data.flipPosition = point2D(flip.css('left'), flip.css('top'));\n\n      flip.turn('zoom', zoom).css({\n        position: 'absolute',\n        margin: '',\n        top:0,\n        left:0\n      });\n\n      var flipOffset = flip.offset();\n      \n      data.axis = point2D(\n        flipOffset.left - thisOffset.left,\n        flipOffset.top - thisOffset.top\n      );\n\n\n      if (autoCenter && flip.turn('display')=='double')\n        if ((flip.turn('direction')=='ltr' && !flip.turn('view')[0]) ||\n          (flip.turn('direction')=='rtl' && !flip.turn('view')[1])\n        )\n          data.axis.x = data.axis.x + flip.width()/2;\n\n      that.zoom('scroll', realPos);\n      that.bind($.mouseEvents.down, zoomMethods._eMouseDown);\n      that.bind($.mouseEvents.move, zoomMethods._eMouseMove);\n      $(document).bind($.mouseEvents.up, data.mouseupEvent);\n      that.bind('mousewheel', zoomMethods._eMouseWheel);\n\n      setTimeout(function() {\n        data.zoomer.hide();\n        data.zoomer.remove();\n        data.zoomer = null;\n        data.zoomerView = null;\n      }, 50);\n\n    };\n\n    data.zoomer.css(css).show();\n\n    if (transitionEnd)\n      data.zoomer.bind(transitionEnd, function() {\n        $(this).unbind(transitionEnd);\n        transitionEndCallback();\n      });\n    else\n      setTimeout(transitionEndCallback, data.opts.duration);\n\n    data.zoomer.transform(translate(move.x, move.y, true) + scale(zoom, true));\n    \n    return this;\n  },\n\n  zoomOut: function(duration) {\n\n    var pos, move,\n      that = this,\n      data = this.data().zoom,\n      flip = data.opts.flipbook,\n      zoom = 1,\n      scaling = zoom/data.scale,\n      prefix = $.cssPrefix(),\n      transitionEnd = $.cssTransitionEnd(),\n      thisOffset = this.offset();\n\n    duration = (typeof(duration)!='undefined') ? duration : data.opts.duration;\n\n    if (!data.zoomIn)\n      return;\n      \n    var ev = $.Event('zoom.change');\n    this.trigger(ev, [zoom]);\n\n    if (ev.isDefaultPrevented())\n      return this;\n\n    data.zoomIn = false;\n    data.scale = zoom;\n\n    flip.data().noCenter = false;\n\n    that.unbind($.mouseEvents.down, zoomMethods._eMouseDown);\n    that.unbind($.mouseEvents.move, zoomMethods._eMouseMove);\n    $(document).unbind($.mouseEvents.up, data.mouseupEvent);\n    that.unbind('mousewheel', zoomMethods._eMouseWheel);\n\n    var css = {};\n\n    css[prefix+'transition'] = prefix +\n      'transform ' +\n      data.opts.easeFunction +\n      ' ' +\n      duration +\n      'ms';\n\n    flip.css(css);\n\n    var flipDesPos,\n      tmp = $('<div />', {\n        css: {\n          position: 'relative',\n          top: data.flipPosition.y,\n          left: data.flipPosition.x,\n          width: flip.width()*scaling,\n          height: flip.height()*scaling,\n          background: 'blue'\n        }\n      }).appendTo(flip.parent());\n\n    flipDesPos = point2D(\n      tmp.offset().left-thisOffset.left,\n      tmp.offset().top-thisOffset.top\n    );\n    \n\n    tmp.remove();\n\n    var autoCenter = flip.data().opts.autoCenter;\n\n    if (autoCenter && flip.turn('display')=='double') {\n\n      if (!flip.turn('view')[0])\n        flipDesPos.x = (flip.turn('direction')=='ltr') ?\n          flipDesPos.x-tmp.width()/4 :\n          flipDesPos.x+tmp.width()/4;\n      else if (!flip.turn('view')[1])\n        flipDesPos.x = (flip.turn('direction')=='ltr') ?\n          flipDesPos.x+tmp.width()/4 :\n          flipDesPos.x-tmp.width()/4;\n    }\n\n    var flipRealPos = $.findPos(flip[0]);\n      \n    move = point2D(\n      -flip.width()/2 - flipRealPos.left + tmp.width()/2 + flipDesPos.x + thisOffset.left,\n      -flip.height()/2 - flipRealPos.top + tmp.height()/2 + flipDesPos.y + thisOffset.top);\n\n    var transitionEndCallback = function() {\n    \n      if (flip[0].style.removeProperty) {\n        \n        flip[0].style.removeProperty(prefix+'transition');\n        flip.transform(\n          (flip.turn('options').acceleration) ? translate(0, 0, true) : '').turn('zoom', 1);\n        flip[0].style.removeProperty('margin');\n        flip.css({\n          position: 'relative',\n          top: data.flipPosition.y,\n          left: data.flipPosition.x\n        });\n\n      } else {\n        \n        flip.transform('none').\n          turn('zoom', 1).\n          css({\n            margin: '',\n            top: data.flipPosition.y,\n            left: data.flipPosition.x,\n            position: 'relative'\n        });\n\n      }\n\n      if (autoCenter)\n        flip.turn('center');\n\n      that.trigger('zoom.zoomOut');\n\n    };\n\n    if (duration===0) {\n  \n      transitionEndCallback();\n\n    } else if (transitionEnd) {\n\n      flip.bind(transitionEnd, function() {\n\n        $(this).unbind(transitionEnd);\n        transitionEndCallback();\n\n      });\n\n      flip.transform(translate(move.x, move.y, true) + scale(scaling, true));\n\n    } else {\n\n      setTimeout(transitionEndCallback, duration);\n      flip.transform(translate(move.x, move.y, true) + scale(scaling, true));\n\n    }\n\n    return this;\n  },\n\n  flipbookWidth: function() {\n    \n    var data = this.data().zoom,\n      flipbook = data.opts.flipbook,\n      view = flipbook.turn('view');\n\n    return (flipbook.turn('display')=='double' && (!view[0] || !view[1])) ?\n      flipbook.width()/2\n      :\n      flipbook.width();\n\n  },\n\n  scroll: function(to, unlimited, animate) {\n    \n    var data = this.data().zoom,\n      flip = data.opts.flipbook,\n      flipWidth = this.zoom('flipbookWidth'),\n      prefix = $.cssPrefix();\n    \n    if (has3d) {\n\n      var css = {};\n\n      if (animate) {\n        css[prefix+'transition'] = prefix + 'transform 200ms';\n      } else {\n        css[prefix+'transition'] = 'none';\n      }\n\n      flip.css(css);\n      flip.transform(translate(-data.axis.x - to.x, -data.axis.y - to.y, true));\n\n    } else {\n      \n      flip.css({top: -data.axis.y - to.y, left: -data.axis.x - to.x});\n\n    }\n\n    if (!unlimited) {\n\n      var out,\n        minBound = point2D(\n          Math.min(0, (flipWidth-this.width())/2),\n          Math.min(0, (flip.height()-this.height())/2)),\n        maxBound = point2D(\n          (flipWidth>this.width()) ? flipWidth-this.width() : (flipWidth-this.width())/2,\n          (flip.height()>this.height()) ? flip.height()-this.height() : (flip.height()-this.height())/2\n        );\n\n      if (to.y<minBound.y) {\n        to.y = minBound.y;\n        out = true;\n      } else if (to.y>maxBound.y) {\n        to.y = maxBound.y;\n        out = true;\n      }\n\n      if (to.x<minBound.x) {\n        to.x = minBound.x;\n        out = true;\n      } else if (to.x>maxBound.x) {\n        to.x = maxBound.x;\n        out = true;\n      }\n\n      if (out) {\n        this.zoom('scroll', to, true, true);\n      }\n\n    }\n\n    data.scrollPos = point2D(to.x, to.y);\n\n  },\n\n  resize: function() {\n\n    var data = this.data().zoom,\n      flip = data.opts.flipbook;\n    \n    if (this.zoom('value')>1) {\n\n      var  flipOffset = flip.offset(),\n        thisOffset = this.offset();\n\n      data.axis =  point2D(\n        (flipOffset.left - thisOffset.left) + (data.axis.x + data.scrollPos.x),\n        (flipOffset.top - thisOffset.top) + (data.axis.y + data.scrollPos.y)\n      );\n\n      if (flip.turn('display')=='double' &&\n        flip.turn('direction')=='ltr' &&\n        !flip.turn('view')[0])\n          data.axis.x = data.axis.x + flip.width()/2;\n\n      this.zoom('scroll', data.scrollPos);\n    }\n\n  },\n\n  _eZoom: function() {\n    \n    var flipPos,\n      data = this.data().zoom,\n      flip = data.opts.flipbook,\n      view = flip.turn('view');\n\n    for (var p = 0; p<view.length; p++) {\n      if (view[p])\n        this.trigger('zoom.resize',\n          [data.scale, view[p], flip.data().pageObjs[view[p]]]\n        );\n    }\n  },\n\n  _eStart: function(event, pageObj) {\n\n    if (this.zoom('value')!=1) {\n      event.preventDefault();\n    }\n\n\n  },\n\n  _eTurning: function(event, page, view) {\n\n    var that = this,\n      zoom = this.zoom('value'),\n      data = this.data().zoom,\n      flip = data.opts.flipbook;\n\n    data.page = flip.turn('page');\n\n    if (zoom!=1) {\n      for (var p = 0; p<view.length; p++) {\n        if (view[p])\n          this.trigger('zoom.resize',\n            [zoom, view[p], flip.data().pageObjs[view[p]]]\n          );\n      }\n\n      setTimeout(function() {\n        that.zoom('resize');\n      }, 0);\n    }\n\n  },\n\n  _eTurned: function (event, page) {\n    \n    if (this.zoom('value')!=1) {\n      var that = this,\n        data = this.data().zoom,\n        flip = data.opts.flipbook;\n\n      if (page>data.page)\n        this.zoom('scroll',\n          point2D(0, data.scrollPos.y), false, true);\n        \n      else if (page<data.page)\n        this.zoom('scroll',\n          point2D(flip.width(), data.scrollPos.y), false, true);\n    \n    }\n  },\n\n  _ePressed: function() {\n    \n    var data = $(this).data().zoom;\n    data.draggingCorner = true;\n\n  },\n\n  _eReleased: function() {\n\n    var data = $(this).data().zoom;\n\n    setTimeout(function() {\n      data.draggingCorner = false;\n    }, 1);\n\n  },\n\n  _eMouseDown: function(event) {\n    \n    var data = $(this).data().zoom;\n\n    data.draggingCur = ($.isTouch) ?\n      point2D(\n        event.originalEvent.touches[0].pageX,\n        event.originalEvent.touches[0].pageY\n      )\n      :\n      point2D(event.pageX, event.pageY);\n    \n    return false;\n  },\n\n  _eMouseMove: function(event) {\n\n    var data = $(this).data().zoom;\n        \n    if (data.draggingCur) {\n\n      data.dragging = true;\n\n      var cur = ($.isTouch) ?\n        point2D(\n          event.originalEvent.touches[0].pageX,\n          event.originalEvent.touches[0].pageY\n        )\n        :\n        point2D(event.pageX, event.pageY),\n        motion = point2D(\n          cur.x- data.draggingCur.x,\n          cur.y-data.draggingCur.y\n        );\n\n      $(this).zoom('scroll',\n        point2D(\n          data.scrollPos.x-motion.x,\n          data.scrollPos.y-motion.y\n        ), true\n      );\n\n      data.draggingCur = cur;\n\n      return false;\n    }\n\n  },\n\n  _eMouseUp: function(event) {\n\n    var data = $(this).data().zoom;\n\n    if (data.dragging) {\n      $(this).zoom('scroll', data.scrollPos);\n    }\n\n    data.draggingCur = null;\n\n    setTimeout(function() {\n      data.dragging = false;\n    }, 1);\n\n  },\n\n  _eMouseWheel: function(event, delta, deltaX, deltaY) {\n    \n    var data = $(this).data().zoom,\n      cur = point2D(\n        data.scrollPos.x + deltaX*10,\n        data.scrollPos.y - deltaY*10\n      );\n    \n    $(this).zoom('scroll', cur, false, true);\n    \n  },\n\n  _eTouchStart: function(event, page) {\n\n    var data = $(this).data().zoom,\n      flip = data.opts.flipbook,\n      finger = point2D(\n        event.originalEvent.touches[0].pageX,\n        event.originalEvent.touches[0].pageY\n      );\n\n    data.touch = {};\n    data.touch.initial = finger;\n    data.touch.last = finger;\n    data.touch.timestamp = (new Date()).getTime();\n    data.touch.speed = point2D(0, 0);\n\n  },\n\n  _eTouchMove: function(event) {\n    \n    var data = $(this).data().zoom,\n      zoom = $(this).zoom('value'),\n      flip = data.opts.flipbook,\n      time = (new Date()).getTime(),\n      finger = point2D(\n        event.originalEvent.touches[0].pageX,\n        event.originalEvent.touches[0].pageY\n      );\n    \n    if (data.touch && zoom==1 && !flip.data().mouseAction) {\n      data.touch.motion = point2D(\n        finger.x-data.touch.last.x,\n        finger.y-data.touch.last.y);\n\n    \n      data.touch.speed.x = (data.touch.speed.x===0) ?\n        data.touch.motion.x / (time-data.touch.timestamp) :\n        (data.touch.speed.x + (data.touch.motion.x / (time-data.touch.timestamp)))/2;\n\n      data.touch.last = finger;\n      data.touch.timestamp = time;\n    }\n\n  },\n\n  _eTouchEnd: function(event) {\n\n    var data = $(this).data().zoom;\n\n    if (data.touch && $(this).zoom('value')==1) {\n\n      var y = Math.abs(data.touch.initial.y - data.touch.last.y);\n\n      if (y<50 && (data.touch.speed.x<-1 || data.touch.last.x-data.touch.initial.x<-100)) {\n        \n        this.trigger('zoom.swipeLeft');\n\n      } else if(y<50 && (data.touch.speed.x>1 || data.touch.last.x-data.touch.initial.x>100)){\n        \n        this.trigger('zoom.swipeRight');\n\n      }\n\n    }\n  },\n\n  _eDestroying: function() {\n\n    var that = this,\n      data = this.data().zoom,\n      flip = data.opts.flipbook,\n      events = [\n        'tap',\n        'doubleTap',\n        'resize',\n        'zoomIn',\n        'zoomOut',\n        'swipeLeft',\n        'swipeRight'\n      ];\n\n    this.zoom('zoomOut', 0);\n\n    $.each(events, function(index, eventName) {\n      that.unbind('zoom.' + eventName);\n    });\n    \n    for (var eventName in data.flipbookEvents) {\n      if (Object.prototype.hasOwnProperty.call(data.flipbookEvents, eventName)) {\n        flip.unbind(eventName, data.flipbookEvents[eventName]);\n      }\n    }\n\n    flip.unbind('touchstart', data.eventTouchStart ).\n      unbind('touchmove', data.eventTouchMove).\n      unbind('touchend', data.eventTouchEnd);\n        \n    this.unbind('touchstart', zoomMethods._tap).\n      unbind('click', zoomMethods._tap);\n\n    data = null;\n    this.data().zoom = null;\n\n  }\n};\n\nfunction isPage(element, last) {\n\n  if (element[0]==last[0])\n    return false;\n\n  if (element.attr('page'))\n    return true;\n  \n  return (element.parent()[0]) ?\n    isPage(element.parent(), last)\n    :\n  false;\n\n}\n\nfunction error(message) {\n\n  function TurnJsError(message) {\n    this.name = \"TurnJsError\";\n    this.message = message;\n  }\n\n  TurnJsError.prototype = new Error();\n  TurnJsError.prototype.constructor = TurnJsError;\n  return new TurnJsError(message);\n\n}\n\nfunction translate(x, y, use3d) {\n  \n  return (has3d && use3d) ? ' translate3d(' + x + 'px,' + y + 'px, 0px) '\n  : ' translate(' + x + 'px, ' + y + 'px) ';\n\n}\n\nfunction scale(v, use3d) {\n  \n  return (has3d && use3d) ? ' scale3d(' + v + ', ' + v + ', 1) '\n  : ' scale(' + v + ') ';\n\n}\n\nfunction point2D(x, y) {\n  \n  return {x: x, y: y};\n\n}\n\nfunction bind(func, context) {\n\n  return function() {\n    return func.apply(context, arguments);\n  };\n\n}\n\n$.extend($.fn, {\n  zoom: function() {\n    \n    var args = arguments;\n\n    if (!args[0] || typeof(args[0])=='object')\n      return zoomMethods.init.apply($(this[0]), args);\n    else if (zoomMethods[args[0]])\n      return zoomMethods[args[0]].apply($(this[0]), Array.prototype.slice.call(args, 1));\n    else\n      throw error(args[0] + ' is not a method');\n\n  }\n});\n\n})(jQuery);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}